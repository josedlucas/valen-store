import{p as y,J as N,G as T,r as U,o as s,f as o,b as t,e as _,I as A,t as n,i as a,F as c,A as u,h as v,v as z,B as E,q as m}from"./app-0cb33df6.js";import{_ as G,D as I}from"./DropZone-1ff0b9bb.js";import{u as J}from"./categories-99b3fbd8.js";import{u as R}from"./products-1010f7bf.js";import{d as L,u as Z,a as b,r as $,m as j}from"./rules-00a576d7.js";const K={class:"row my-5"},O={class:"col-md-8"},Q={class:"card border-0 shadow-sm"},W={class:"card-body"},X={class:"mb-3"},Y=t("label",{for:"product-title",class:"form-label"}," Nombre ",-1),tt={class:"text-danger mt-1"},et={class:"text-danger mt-1"},st={class:"mb-3"},ot=t("label",{for:"product-content",class:"form-label"}," DescripciÃ³n ",-1),at={class:"text-danger mt-1"},lt={class:"text-danger mt-1"},it={class:"col-md-4"},nt={class:"card border-0 shadow-sm"},rt={class:"card-body"},dt=t("h6",null,[t("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",fill:"currentColor",class:"bi bi-arrow-down-square",viewBox:"0 0 16 16"},[t("path",{"fill-rule":"evenodd",d:"M15 2a1 1 0 0 0-1-1H2a1 1 0 0 0-1 1v12a1 1 0 0 0 1 1h12a1 1 0 0 0 1-1V2zM0 2a2 2 0 0 1 2-2h12a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H2a2 2 0 0 1-2-2V2zm8.5 2.5a.5.5 0 0 0-1 0v5.793L5.354 8.146a.5.5 0 1 0-.708.708l3 3a.5.5 0 0 0 .708 0l3-3a.5.5 0 0 0-.708-.708L8.5 10.293V4.5z"})]),m(" Action ")],-1),ct={class:"mt-3 text-center"},ut=["disabled"],mt={class:""},ht={key:0},_t={key:1},vt=["disabled"],bt={class:""},pt={key:0},gt={key:1},wt=t("h6",{class:"mt-3"},[t("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",fill:"currentColor",class:"bi bi-arrow-down-square",viewBox:"0 0 16 16"},[t("path",{"fill-rule":"evenodd",d:"M15 2a1 1 0 0 0-1-1H2a1 1 0 0 0-1 1v12a1 1 0 0 0 1 1h12a1 1 0 0 0 1-1V2zM0 2a2 2 0 0 1 2-2h12a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H2a2 2 0 0 1-2-2V2zm8.5 2.5a.5.5 0 0 0-1 0v5.793L5.354 8.146a.5.5 0 1 0-.708.708l3 3a.5.5 0 0 0 .708 0l3-3a.5.5 0 0 0-.708-.708L8.5 10.293V4.5z"})]),m(" Category ")],-1),ft={class:"mb-3"},Vt={class:"text-danger mt-1"},xt={class:"text-danger mt-1"},yt={class:"mb-3"},zt=t("h6",{class:"mt-3"},[t("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",fill:"currentColor",class:"bi bi-arrow-down-square",viewBox:"0 0 16 16"},[t("path",{"fill-rule":"evenodd",d:"M15 2a1 1 0 0 0-1-1H2a1 1 0 0 0-1 1v12a1 1 0 0 0 1 1h12a1 1 0 0 0 1-1V2zM0 2a2 2 0 0 1 2-2h12a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H2a2 2 0 0 1-2-2V2zm8.5 2.5a.5.5 0 0 0-1 0v5.793L5.354 8.146a.5.5 0 1 0-.708.708l3 3a.5.5 0 0 0 .708 0l3-3a.5.5 0 0 0-.708-.708L8.5 10.293V4.5z"})]),m(" Thumbnail ")],-1),Lt={class:"text-danger mt-1"},Mt={class:"mb-3"},qt=t("h6",{class:"mt-3"},[t("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",fill:"currentColor",class:"bi bi-arrow-down-square",viewBox:"0 0 16 16"},[t("path",{"fill-rule":"evenodd",d:"M15 2a1 1 0 0 0-1-1H2a1 1 0 0 0-1 1v12a1 1 0 0 0 1 1h12a1 1 0 0 0 1-1V2zM0 2a2 2 0 0 1 2-2h12a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H2a2 2 0 0 1-2-2V2zm8.5 2.5a.5.5 0 0 0-1 0v5.793L5.354 8.146a.5.5 0 1 0-.708.708l3 3a.5.5 0 0 0 .708 0l3-3a.5.5 0 0 0-.708-.708L8.5 10.293V4.5z"})]),m(" Thumbnail ")],-1),Ct={class:"text-danger mt-1"},Pt={__name:"Create",setup(Bt){L("required",$),L("min",j),y(!0);const M={title:"required|min:5",content:"required|min:50",categories:"required"},{validate:q,errors:h}=Z({validationSchema:M}),{value:C}=b("title",null,{initialValue:""}),{value:B}=b("content",null,{initialValue:""}),{value:H}=b("categories",null,{initialValue:"",label:"category"}),{categoryList:k,getCategoryList:D}=J(),{storeProduct:S,validationErrors:d,isLoading:r}=R(),l=N({title:C,content:B,categories:H,thumbnail:""});y("");function F(){q().then(p=>{p.valid&&S(l)})}return T(()=>{D()}),(p,i)=>{var g,w,f,V,x;const P=U("v-select");return s(),o("form",{onSubmit:E(F,["prevent"])},[t("div",K,[t("div",O,[t("div",Q,[t("div",W,[t("div",X,[Y,_(t("input",{"onUpdate:modelValue":i[0]||(i[0]=e=>l.title=e),id:"product-title",type:"text",class:"form-control"},null,512),[[A,l.title]]),t("div",tt,n(a(h).title),1),t("div",et,[(s(!0),o(c,null,u((g=a(d))==null?void 0:g.title,e=>(s(),o("div",null,n(e),1))),256))])]),t("div",st,[ot,v(G,{modelValue:l.content,"onUpdate:modelValue":i[1]||(i[1]=e=>l.content=e)},null,8,["modelValue"]),t("div",at,n(a(h).content),1),t("div",lt,[(s(!0),o(c,null,u((w=a(d))==null?void 0:w.content,e=>(s(),o("div",null,n(e),1))),256))])])])])]),t("div",it,[t("div",nt,[t("div",rt,[dt,t("div",ct,[t("button",{disabled:a(r),class:"btn btn btn-outline-primary me-2"},[_(t("div",mt,null,512),[[z,a(r)]]),a(r)?(s(),o("span",ht,"Processing...")):(s(),o("span",_t,"Save Draft"))],8,ut),t("button",{disabled:a(r),class:"btn btn-primary"},[_(t("div",bt,null,512),[[z,a(r)]]),a(r)?(s(),o("span",pt,"Processing...")):(s(),o("span",gt,"Publish"))],8,vt)]),wt,t("div",ft,[v(P,{multiple:"",modelValue:l.categories,"onUpdate:modelValue":i[2]||(i[2]=e=>l.categories=e),options:a(k),reduce:e=>e.id,label:"name",class:"form-control",placeholder:"Select category"},null,8,["modelValue","options","reduce"]),t("div",Vt,n(a(h).categories),1),t("div",xt,[(s(!0),o(c,null,u((f=a(d))==null?void 0:f.categories,e=>(s(),o("div",null,n(e),1))),256))])]),t("div",yt,[zt,t("input",{onChange:i[3]||(i[3]=e=>l.thumbnail=e.target.files[0]),type:"file",class:"form-control",id:"thumbnail",multiple:""},null,32),t("div",Lt,[(s(!0),o(c,null,u((V=a(d))==null?void 0:V.thumbnail,e=>(s(),o("div",null,n(e),1))),256))])]),t("div",Mt,[qt,v(I,{modelValue:l.thumbnail,"onUpdate:modelValue":i[4]||(i[4]=e=>l.thumbnail=e)},null,8,["modelValue"]),t("div",Ct,[(s(!0),o(c,null,u((x=a(d))==null?void 0:x.thumbnail,e=>(s(),o("div",null,n(e),1))),256))])])])])])])],32)}}};export{Pt as default};
