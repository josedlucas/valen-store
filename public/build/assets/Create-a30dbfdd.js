import{I as M,B as N,r as C,o,f as l,b as s,H as D,e as c,y as v,t as n,h as t,F as m,A as u,i as P,v as j}from"./app-3202151c.js";import{u as A}from"./roles-4544d278.js";import{u as G}from"./users-5c5d0fbe.js";import{d as x,u as H,a as _,r as I,m as T}from"./rules-a865519e.js";const z={class:"row justify-content-center my-5"},J={class:"col-md-10"},K={class:"card border-0 shadow-sm"},O={class:"card-body"},Q={class:"mb-3"},W=s("label",{for:"post-title",class:"form-label"},"Name",-1),X={class:"text-danger mt-1"},Y={class:"text-danger mt-1"},Z={class:"mb-3"},$=s("label",{for:"email",class:"form-label"},"Email",-1),ss={class:"text-danger mt-1"},es={class:"text-danger mt-1"},ts={class:"mb-3"},os=s("label",{for:"password",class:"form-label"},"Password",-1),ls={class:"text-danger mt-1"},as={class:"text-danger mt-1"},is={class:"mb-3"},ns=s("label",{for:"post-category",class:"form-label"}," Role ",-1),ds={class:"text-danger mt-1"},rs={class:"text-danger mt-1"},cs={class:"mt-4"},ms=["disabled"],us={class:""},_s={key:0},ps={key:1},gs={__name:"Create",setup(vs){const{roleList:V,getRoleList:y}=A(),{storeUser:U,validationErrors:d,isLoading:p}=G();x("required",I),x("min",T);const q={name:"required",email:"required",password:"required|min:8"},{validate:F,errors:r}=H({validationSchema:q}),{value:k}=_("name",null,{initialValue:""}),{value:B}=_("email",null,{initialValue:""}),{value:L}=_("password",null,{initialValue:""}),{value:R}=_("role_id",null,{initialValue:"",label:"role"}),a=M({name:k,email:B,password:L,role_id:R});function S(){F().then(f=>{f.valid&&U(a)})}return N(()=>{y()}),(f,i)=>{var h,b,w,g;const E=C("v-select");return o(),l("div",z,[s("div",J,[s("div",K,[s("div",O,[s("form",{onSubmit:D(S,["prevent"])},[s("div",Q,[W,c(s("input",{"onUpdate:modelValue":i[0]||(i[0]=e=>a.name=e),id:"post-title",type:"text",class:"form-control"},null,512),[[v,a.name]]),s("div",X,n(t(r).name),1),s("div",Y,[(o(!0),l(m,null,u((h=t(d))==null?void 0:h.name,e=>(o(),l("div",null,n(e),1))),256))])]),s("div",Z,[$,c(s("input",{"onUpdate:modelValue":i[1]||(i[1]=e=>a.email=e),id:"email",type:"email",class:"form-control"},null,512),[[v,a.email]]),s("div",ss,n(t(r).email),1),s("div",es,[(o(!0),l(m,null,u((b=t(d))==null?void 0:b.email,e=>(o(),l("div",null,n(e),1))),256))])]),s("div",ts,[os,c(s("input",{"onUpdate:modelValue":i[2]||(i[2]=e=>a.password=e),id:"password",type:"password",class:"form-control"},null,512),[[v,a.password]]),s("div",ls,n(t(r).password),1),s("div",as,[(o(!0),l(m,null,u((w=t(d))==null?void 0:w.password,e=>(o(),l("div",null,n(e),1))),256))])]),s("div",is,[ns,P(E,{multiple:"",modelValue:a.role_id,"onUpdate:modelValue":i[3]||(i[3]=e=>a.role_id=e),options:t(V),reduce:e=>e.id,label:"name",class:"form-control"},null,8,["modelValue","options","reduce"]),s("div",ds,n(t(r).role_id),1),s("div",rs,[(o(!0),l(m,null,u((g=t(d))==null?void 0:g.role_id,e=>(o(),l("div",null,n(e),1))),256))])]),s("div",cs,[s("button",{disabled:t(p),class:"btn btn-success"},[c(s("div",us,null,512),[[j,t(p)]]),t(p)?(o(),l("span",_s,"Processing...")):(o(),l("span",ps,"Guardar"))],8,ms)])],32)])])])])}}};export{gs as default};
