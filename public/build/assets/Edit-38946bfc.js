import{I as $,k as G,B as Q,K as W,r as X,o as l,f as a,b as e,e as w,y as Y,t as n,h as o,F as u,A as m,i as _,v as C,w as q,J as M,H as ee,q as g}from"./app-277e06eb.js";import{u as te}from"./categories-16b38011.js";import{u as se}from"./colors-72123b20.js";import{u as oe}from"./sizes-2abb6477.js";import{u as le}from"./products-489c7134.js";import{d as S,u as ae,a as p,r as ie,m as ne}from"./rules-1c17496e.js";import{_ as de,D as re}from"./DropZone-45affd1b.js";const ce={class:"row my-5"},ue={class:"col-md-8"},me={class:"card border-0 shadow-sm"},he={class:"card-body"},ve={class:"mb-3"},_e=e("label",{for:"post-title",class:"form-label"}," Nombre ",-1),pe={class:"text-danger mt-1"},ge={class:"text-danger mt-1"},be={class:"mb-3"},we=e("label",{for:"post-content",class:"form-label"}," Content ",-1),fe={class:"text-danger mt-1"},Ve={class:"text-danger mt-1"},xe={class:"col-md-4"},ze={class:"card border-0 shadow-sm"},ye={class:"card-body"},Le=e("h6",null,[e("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",fill:"currentColor",class:"bi bi-arrow-down-square",viewBox:"0 0 16 16"},[e("path",{"fill-rule":"evenodd",d:"M15 2a1 1 0 0 0-1-1H2a1 1 0 0 0-1 1v12a1 1 0 0 0 1 1h12a1 1 0 0 0 1-1V2zM0 2a2 2 0 0 1 2-2h12a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H2a2 2 0 0 1-2-2V2zm8.5 2.5a.5.5 0 0 0-1 0v5.793L5.354 8.146a.5.5 0 1 0-.708.708l3 3a.5.5 0 0 0 .708 0l3-3a.5.5 0 0 0-.708-.708L8.5 10.293V4.5z"})]),g(" Acciones ")],-1),Ce={class:"mt-3 justify-content-start d-flex"},qe=["disabled"],Me={class:""},Se={key:0},ke={key:1},He=["disabled"],Be={class:""},Ee={key:0},Te={key:1},De=e("h6",{class:"mt-3"},[e("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",fill:"currentColor",class:"bi bi-arrow-down-square",viewBox:"0 0 16 16"},[e("path",{"fill-rule":"evenodd",d:"M15 2a1 1 0 0 0-1-1H2a1 1 0 0 0-1 1v12a1 1 0 0 0 1 1h12a1 1 0 0 0 1-1V2zM0 2a2 2 0 0 1 2-2h12a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H2a2 2 0 0 1-2-2V2zm8.5 2.5a.5.5 0 0 0-1 0v5.793L5.354 8.146a.5.5 0 1 0-.708.708l3 3a.5.5 0 0 0 .708 0l3-3a.5.5 0 0 0-.708-.708L8.5 10.293V4.5z"})]),g(" Categorias ")],-1),Fe={class:"mb-3"},Ne={class:"text-danger mt-1"},Pe={class:"text-danger mt-1"},Ue=e("h6",{class:"mt-3"},[e("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",fill:"currentColor",class:"bi bi-arrow-down-square",viewBox:"0 0 16 16"},[e("path",{"fill-rule":"evenodd",d:"M15 2a1 1 0 0 0-1-1H2a1 1 0 0 0-1 1v12a1 1 0 0 0 1 1h12a1 1 0 0 0 1-1V2zM0 2a2 2 0 0 1 2-2h12a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H2a2 2 0 0 1-2-2V2zm8.5 2.5a.5.5 0 0 0-1 0v5.793L5.354 8.146a.5.5 0 1 0-.708.708l3 3a.5.5 0 0 0 .708 0l3-3a.5.5 0 0 0-.708-.708L8.5 10.293V4.5z"})]),g(" Colores ")],-1),Ae={class:"mb-3"},Re={style:{display:"flex","align-items":"center"}},je={style:{display:"flex","align-items":"center"}},Ie={class:"text-danger mt-1"},Je={class:"text-danger mt-1"},Ke=e("h6",{class:"mt-3"},[e("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",fill:"currentColor",class:"bi bi-arrow-down-square",viewBox:"0 0 16 16"},[e("path",{"fill-rule":"evenodd",d:"M15 2a1 1 0 0 0-1-1H2a1 1 0 0 0-1 1v12a1 1 0 0 0 1 1h12a1 1 0 0 0 1-1V2zM0 2a2 2 0 0 1 2-2h12a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H2a2 2 0 0 1-2-2V2zm8.5 2.5a.5.5 0 0 0-1 0v5.793L5.354 8.146a.5.5 0 1 0-.708.708l3 3a.5.5 0 0 0 .708 0l3-3a.5.5 0 0 0-.708-.708L8.5 10.293V4.5z"})]),g(" Tallas ")],-1),Oe={class:"mb-3"},Ze={class:"text-danger mt-1"},$e={class:"text-danger mt-1"},Ge={class:"mb-3"},Qe=e("h6",{class:"mt-3"},[e("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",fill:"currentColor",class:"bi bi-arrow-down-square",viewBox:"0 0 16 16"},[e("path",{"fill-rule":"evenodd",d:"M15 2a1 1 0 0 0-1-1H2a1 1 0 0 0-1 1v12a1 1 0 0 0 1 1h12a1 1 0 0 0 1-1V2zM0 2a2 2 0 0 1 2-2h12a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H2a2 2 0 0 1-2-2V2zm8.5 2.5a.5.5 0 0 0-1 0v5.793L5.354 8.146a.5.5 0 1 0-.708.708l3 3a.5.5 0 0 0 .708 0l3-3a.5.5 0 0 0-.708-.708L8.5 10.293V4.5z"})]),g(" Thumbnail ")],-1),We={class:"text-danger mt-1"},nt={__name:"Edit",setup(Xe){S("required",ie),S("min",ne);const k={title:"required|min:5",content:"required|min:50",categories:"required",colors:"required",sizes:"required"},{validate:H,errors:h,resetForm:Ye}=ae({validationSchema:k}),{value:B}=p("title",null,{initialValue:""}),{value:E}=p("content",null,{initialValue:""}),{value:T}=p("categories",null,{initialValue:"",label:"category"}),{value:D}=p("colors",null,{initialValue:"",label:"color"}),{value:F}=p("sizes",null,{initialValue:"",label:"size"}),{categoryList:N,getCategoryList:P}=te(),{colorList:U,getColorList:A}=se(),{sizeList:R,getSizeList:j}=oe(),{product:d,getProduct:I,updateProduct:J,validationErrors:r,isLoading:c}=le(),s=$({title:B,content:E,categories:T,colors:D,sizes:F,thumbnail:[]}),K=G();function O(){H().then(v=>{v.valid&&J(s)})}const Z=v=>{console.log("ENTOS ES EL EVENT",v),s.thumbnail=v};return Q(()=>{I(K.params.id),P(),A(),j()}),W(()=>{s.id=d.value.id,s.title=d.value.title,s.content=d.value.content,s.thumbnail=d.value.original_all_images,s.categories=d.value.categories,s.colors=d.value.colors,s.sizes=d.value.sizes}),(v,i)=>{var f,V,x,z,y,L;const b=X("v-select");return l(),a("form",{onSubmit:ee(O,["prevent"])},[e("div",ce,[e("div",ue,[e("div",me,[e("div",he,[e("div",ve,[_e,w(e("input",{"onUpdate:modelValue":i[0]||(i[0]=t=>s.title=t),id:"post-title",type:"text",class:"form-control"},null,512),[[Y,s.title]]),e("div",pe,n(o(h).title),1),e("div",ge,[(l(!0),a(u,null,m((f=o(r))==null?void 0:f.title,t=>(l(),a("div",null,n(t),1))),256))])]),e("div",be,[we,_(de,{modelValue:s.content,"onUpdate:modelValue":i[1]||(i[1]=t=>s.content=t)},null,8,["modelValue"]),e("div",fe,n(o(h).content),1),e("div",Ve,[(l(!0),a(u,null,m((V=o(r))==null?void 0:V.content,t=>(l(),a("div",null,n(t),1))),256))])])])])]),e("div",xe,[e("div",ze,[e("div",ye,[Le,e("div",Ce,[e("button",{disabled:o(c),class:"btn btn btn-outline-primary me-2"},[w(e("div",Me,null,512),[[C,o(c)]]),o(c)?(l(),a("span",Se,"Processing...")):(l(),a("span",ke,"Save Draft"))],8,qe),e("button",{disabled:o(c),class:"btn btn-success"},[w(e("div",Be,null,512),[[C,o(c)]]),o(c)?(l(),a("span",Ee,"Processing...")):(l(),a("span",Te,"Publish"))],8,He)]),De,e("div",Fe,[_(b,{multiple:"",modelValue:s.categories,"onUpdate:modelValue":i[2]||(i[2]=t=>s.categories=t),options:o(N),reduce:t=>t.id,label:"name",class:"form-control",placeholder:"Select category"},null,8,["modelValue","options","reduce"]),e("div",Ne,n(o(h).categories),1),e("div",Pe,[(l(!0),a(u,null,m((x=o(r))==null?void 0:x.categories,t=>(l(),a("div",null,n(t),1))),256))])]),Ue,e("div",Ae,[_(b,{multiple:"",modelValue:s.colors,"onUpdate:modelValue":i[3]||(i[3]=t=>s.colors=t),options:o(U),reduce:t=>t.id,label:"code",class:"form-control",placeholder:"Select color"},{"selected-option":q(({code:t})=>[e("div",Re,[e("span",{style:M([{backgroundColor:t},{display:"inline-block",width:"20px",height:"20px",border:"1px solid #ddd","margin-right":"10px"}])},null,4),e("span",null,n(t),1)])]),option:q(({code:t})=>[e("div",je,[e("span",{style:M([{backgroundColor:t},{display:"inline-block",width:"20px",height:"20px",border:"1px solid #ddd","margin-right":"10px"}])},null,4),e("span",null,n(t),1)])]),_:1},8,["modelValue","options","reduce"]),e("div",Ie,n(o(h).colors),1),e("div",Je,[(l(!0),a(u,null,m((z=o(r))==null?void 0:z.colors,t=>(l(),a("div",null,n(t),1))),256))])]),Ke,e("div",Oe,[_(b,{multiple:"",modelValue:s.sizes,"onUpdate:modelValue":i[4]||(i[4]=t=>s.sizes=t),options:o(R),reduce:t=>t.id,label:"name",class:"form-control",placeholder:"Select tallas"},null,8,["modelValue","options","reduce"]),e("div",Ze,n(o(h).sizes),1),e("div",$e,[(l(!0),a(u,null,m((y=o(r))==null?void 0:y.sizes,t=>(l(),a("div",null,n(t),1))),256))])]),e("div",Ge,[Qe,_(re,{modelValue:s.thumbnail,"onUpdate:modelValue":[i[5]||(i[5]=t=>s.thumbnail=t),i[6]||(i[6]=t=>Z(t))]},null,8,["modelValue"]),e("div",We,[(l(!0),a(u,null,m((L=o(r))==null?void 0:L.thumbnail,t=>(l(),a("div",null,n(t),1))),256))])])])])])])],32)}}};export{nt as default};
