import{I as O,k as Q,B as W,K as Y,r as Z,o,f as l,b as e,e as b,y as ee,t as i,h as s,F as d,A as c,i as g,v as k,w as H,J as S,H as te,q as p,x as se}from"./app-e363b16c.js";import{u as oe}from"./categories-e66edfd9.js";import{u as le}from"./colors-6510227a.js";import{u as ae}from"./sizes-b05e0698.js";import{u as ie}from"./products-dc69a8d3.js";import{d as q,u as ne,a as v,r as re,m as de}from"./rules-23909230.js";import{_ as ce}from"./TextEditorComponent-59ddc63f.js";const ue={class:"row my-5"},he={class:"col-md-8"},me={class:"card border-0 shadow-sm"},_e={class:"card-body"},ve={class:"mb-3"},pe=e("label",{for:"post-title",class:"form-label"}," Nombre ",-1),ge={class:"text-danger mt-1"},we={class:"text-danger mt-1"},be={class:"mb-3"},xe=e("label",{for:"post-content",class:"form-label"}," Content ",-1),fe={class:"text-danger mt-1"},Ve={class:"text-danger mt-1"},ze={class:"col-md-4"},ye={class:"card border-0 shadow-sm"},Le={class:"card-body"},Ce=e("h6",null,[e("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",fill:"currentColor",class:"bi bi-arrow-down-square",viewBox:"0 0 16 16"},[e("path",{"fill-rule":"evenodd",d:"M15 2a1 1 0 0 0-1-1H2a1 1 0 0 0-1 1v12a1 1 0 0 0 1 1h12a1 1 0 0 0 1-1V2zM0 2a2 2 0 0 1 2-2h12a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H2a2 2 0 0 1-2-2V2zm8.5 2.5a.5.5 0 0 0-1 0v5.793L5.354 8.146a.5.5 0 1 0-.708.708l3 3a.5.5 0 0 0 .708 0l3-3a.5.5 0 0 0-.708-.708L8.5 10.293V4.5z"})]),p(" Acciones ")],-1),Me={class:"mt-3 justify-content-start d-flex"},ke=["disabled"],He={class:""},Se={key:0},qe={key:1},Fe=["disabled"],Be={class:""},De={key:0},Pe={key:1},Ee=e("h6",{class:"mt-3"},[e("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",fill:"currentColor",class:"bi bi-arrow-down-square",viewBox:"0 0 16 16"},[e("path",{"fill-rule":"evenodd",d:"M15 2a1 1 0 0 0-1-1H2a1 1 0 0 0-1 1v12a1 1 0 0 0 1 1h12a1 1 0 0 0 1-1V2zM0 2a2 2 0 0 1 2-2h12a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H2a2 2 0 0 1-2-2V2zm8.5 2.5a.5.5 0 0 0-1 0v5.793L5.354 8.146a.5.5 0 1 0-.708.708l3 3a.5.5 0 0 0 .708 0l3-3a.5.5 0 0 0-.708-.708L8.5 10.293V4.5z"})]),p(" Categorias ")],-1),Ie={class:"mb-3"},Ne={class:"text-danger mt-1"},Re={class:"text-danger mt-1"},Te=e("h6",{class:"mt-3"},[e("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",fill:"currentColor",class:"bi bi-arrow-down-square",viewBox:"0 0 16 16"},[e("path",{"fill-rule":"evenodd",d:"M15 2a1 1 0 0 0-1-1H2a1 1 0 0 0-1 1v12a1 1 0 0 0 1 1h12a1 1 0 0 0 1-1V2zM0 2a2 2 0 0 1 2-2h12a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H2a2 2 0 0 1-2-2V2zm8.5 2.5a.5.5 0 0 0-1 0v5.793L5.354 8.146a.5.5 0 1 0-.708.708l3 3a.5.5 0 0 0 .708 0l3-3a.5.5 0 0 0-.708-.708L8.5 10.293V4.5z"})]),p(" Colores ")],-1),Ue={class:"mb-3"},Xe={style:{display:"flex","align-items":"center"}},Ae={style:{display:"flex","align-items":"center"}},Ge={class:"text-danger mt-1"},je={class:"text-danger mt-1"},$e=e("h6",{class:"mt-3"},[e("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",fill:"currentColor",class:"bi bi-arrow-down-square",viewBox:"0 0 16 16"},[e("path",{"fill-rule":"evenodd",d:"M15 2a1 1 0 0 0-1-1H2a1 1 0 0 0-1 1v12a1 1 0 0 0 1 1h12a1 1 0 0 0 1-1V2zM0 2a2 2 0 0 1 2-2h12a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H2a2 2 0 0 1-2-2V2zm8.5 2.5a.5.5 0 0 0-1 0v5.793L5.354 8.146a.5.5 0 1 0-.708.708l3 3a.5.5 0 0 0 .708 0l3-3a.5.5 0 0 0-.708-.708L8.5 10.293V4.5z"})]),p(" Tallas ")],-1),Je={class:"mb-3"},Ke={class:"text-danger mt-1"},Oe={class:"text-danger mt-1"},Qe={class:"mb-3"},We=e("h6",{class:"mt-3"},[e("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",fill:"currentColor",class:"bi bi-arrow-down-square",viewBox:"0 0 16 16"},[e("path",{"fill-rule":"evenodd",d:"M15 2a1 1 0 0 0-1-1H2a1 1 0 0 0-1 1v12a1 1 0 0 0 1 1h12a1 1 0 0 0 1-1V2zM0 2a2 2 0 0 1 2-2h12a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H2a2 2 0 0 1-2-2V2zm8.5 2.5a.5.5 0 0 0-1 0v5.793L5.354 8.146a.5.5 0 1 0-.708.708l3 3a.5.5 0 0 0 .708 0l3-3a.5.5 0 0 0-.708-.708L8.5 10.293V4.5z"})]),p(" Thumbnail ")],-1),Ye={class:"row my-5 mt-3"},Ze={class:"col-xl-3 mt-3 position-relative"},et=["src","alt"],tt=["onClick"],st=se('<svg fill="#FF0000FF" height="20px" width="20px" version="1.1" id="Layer_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 330 330" xml:space="preserve" stroke="#b0b0b0"><g id="SVGRepo_bgCarrier" stroke-width="0"></g><g id="SVGRepo_tracerCarrier" stroke-linecap="round" stroke-linejoin="round"></g><g id="SVGRepo_iconCarrier"><g id="XMLID_6_"><g id="XMLID_11_"><path d="M240,121.076H30V275c0,8.284,6.716,15,15,15h60h37.596c19.246,24.348,49.031,40,82.404,40c57.897,0,105-47.103,105-105 C330,172.195,290.816,128.377,240,121.076z M225,300c-41.355,0-75-33.645-75-75s33.645-75,75-75s75,33.645,75,75 S266.355,300,225,300z"></path></g><g id="XMLID_18_"><path d="M240,90h15c8.284,0,15-6.716,15-15s-6.716-15-15-15h-30h-15V15c0-8.284-6.716-15-15-15H75c-8.284,0-15,6.716-15,15v45H45 H15C6.716,60,0,66.716,0,75s6.716,15,15,15h15H240z M90,30h90v30h-15h-60H90V30z"></path></g><g id="XMLID_23_"><path d="M256.819,193.181c-5.857-5.858-15.355-5.858-21.213,0L225,203.787l-10.606-10.606c-5.857-5.858-15.355-5.858-21.213,0 c-5.858,5.858-5.858,15.355,0,21.213L203.787,225l-10.606,10.606c-5.858,5.858-5.858,15.355,0,21.213 c2.929,2.929,6.768,4.394,10.606,4.394c3.839,0,7.678-1.465,10.607-4.394L225,246.213l10.606,10.606 c2.929,2.929,6.768,4.394,10.607,4.394c3.839,0,7.678-1.465,10.606-4.394c5.858-5.858,5.858-15.355,0-21.213L246.213,225 l10.606-10.606C262.678,208.535,262.678,199.039,256.819,193.181z"></path></g></g></g></svg>',1),ot=[st],lt={style:{"font-size":"10px"}},at={class:"text-danger mt-1"},pt={__name:"Edit",setup(it){q("required",re),q("min",de);const F={title:"required|min:5",content:"required|min:50",categories:"required",colors:"required",sizes:"required"},{validate:B,errors:_,resetForm:nt}=ne({validationSchema:F}),{value:D}=v("title",null,{initialValue:""}),{value:P}=v("content",null,{initialValue:""}),{value:E}=v("categories",null,{initialValue:"",label:"category"}),{value:I}=v("colors",null,{initialValue:"",label:"color"}),{value:N}=v("sizes",null,{initialValue:"",label:"size"}),{categoryList:R,getCategoryList:T}=oe(),{colorList:U,getColorList:X}=le(),{sizeList:A,getSizeList:G}=ae(),{product:r,getProduct:x,updateProduct:j,validationErrors:u,isLoading:h}=ie(),a=O({title:D,content:P,categories:E,colors:I,sizes:N,thumbnail:[]}),f=Q();function $(){B().then(m=>{m.valid&&j(a)})}function J(m){a.thumbnail=Array.from(m.target.files)}const K=m=>{axios.delete("/api/product/thumbnails/"+m).then(()=>{x(f.params.id)})};return W(()=>{x(f.params.id),T(),X(),G()}),Y(()=>{a.id=r.value.id,a.title=r.value.title,a.content=r.value.content,a.categories=r.value.categories,a.colors=r.value.colors,a.sizes=r.value.sizes}),(m,n)=>{var V,z,y,L,C,M;const w=Z("v-select");return o(),l("form",{onSubmit:te($,["prevent"])},[e("div",ue,[e("div",he,[e("div",me,[e("div",_e,[e("div",ve,[pe,b(e("input",{"onUpdate:modelValue":n[0]||(n[0]=t=>a.title=t),id:"post-title",type:"text",class:"form-control"},null,512),[[ee,a.title]]),e("div",ge,i(s(_).title),1),e("div",we,[(o(!0),l(d,null,c((V=s(u))==null?void 0:V.title,t=>(o(),l("div",null,i(t),1))),256))])]),e("div",be,[xe,g(ce,{modelValue:a.content,"onUpdate:modelValue":n[1]||(n[1]=t=>a.content=t)},null,8,["modelValue"]),e("div",fe,i(s(_).content),1),e("div",Ve,[(o(!0),l(d,null,c((z=s(u))==null?void 0:z.content,t=>(o(),l("div",null,i(t),1))),256))])])])])]),e("div",ze,[e("div",ye,[e("div",Le,[Ce,e("div",Me,[e("button",{disabled:s(h),class:"btn btn btn-outline-primary me-2"},[b(e("div",He,null,512),[[k,s(h)]]),s(h)?(o(),l("span",Se,"Processing...")):(o(),l("span",qe,"Save Draft"))],8,ke),e("button",{disabled:s(h),class:"btn btn-success"},[b(e("div",Be,null,512),[[k,s(h)]]),s(h)?(o(),l("span",De,"Processing...")):(o(),l("span",Pe,"Publish"))],8,Fe)]),Ee,e("div",Ie,[g(w,{multiple:"",modelValue:s(r).categories,"onUpdate:modelValue":n[2]||(n[2]=t=>s(r).categories=t),options:s(R),reduce:t=>t.id,label:"name",class:"form-control",placeholder:"Select category"},null,8,["modelValue","options","reduce"]),e("div",Ne,i(s(_).categories),1),e("div",Re,[(o(!0),l(d,null,c((y=s(u))==null?void 0:y.categories,t=>(o(),l("div",null,i(t),1))),256))])]),Te,e("div",Ue,[g(w,{multiple:"",modelValue:a.colors,"onUpdate:modelValue":n[3]||(n[3]=t=>a.colors=t),options:s(U),reduce:t=>t.id,label:"code",class:"form-control",placeholder:"Select color"},{"selected-option":H(({code:t})=>[e("div",Xe,[e("span",{style:S([{backgroundColor:t},{display:"inline-block",width:"20px",height:"20px",border:"1px solid #ddd","margin-right":"10px"}])},null,4),e("span",null,i(t),1)])]),option:H(({code:t})=>[e("div",Ae,[e("span",{style:S([{backgroundColor:t},{display:"inline-block",width:"20px",height:"20px",border:"1px solid #ddd","margin-right":"10px"}])},null,4),e("span",null,i(t),1)])]),_:1},8,["modelValue","options","reduce"]),e("div",Ge,i(s(_).colors),1),e("div",je,[(o(!0),l(d,null,c((L=s(u))==null?void 0:L.colors,t=>(o(),l("div",null,i(t),1))),256))])]),$e,e("div",Je,[g(w,{multiple:"",modelValue:a.sizes,"onUpdate:modelValue":n[4]||(n[4]=t=>a.sizes=t),options:s(A),reduce:t=>t.id,label:"name",class:"form-control",placeholder:"Select tallas"},null,8,["modelValue","options","reduce"]),e("div",Ke,i(s(_).sizes),1),e("div",Oe,[(o(!0),l(d,null,c((C=s(u))==null?void 0:C.sizes,t=>(o(),l("div",null,i(t),1))),256))])]),e("div",Qe,[We,e("div",Ye,[(o(!0),l(d,null,c(s(r).original_all_images,t=>(o(),l("div",Ze,[e("img",{src:t.url,alt:t.name,class:"img-thumbnail"},null,8,et),e("span",{class:"delete",onClick:rt=>K(t.id)},ot,8,tt),e("div",lt,i(t.name),1)]))),256))]),e("input",{onChange:J,type:"file",class:"form-control",id:"thumbnail",multiple:""},null,32),e("div",at,[(o(!0),l(d,null,c((M=s(u))==null?void 0:M.thumbnail,t=>(o(),l("div",null,i(t),1))),256))])])])])])])],32)}}};export{pt as default};
