import{I as O,k as Q,B as W,K as X,r as Y,o as l,f as a,b as e,e as w,y as Z,t as i,h as s,F as u,A as m,i as g,v as L,w as q,J as M,H as ee,q as _}from"./app-cf2915c7.js";import{u as te}from"./categories-5d26a360.js";import{u as se}from"./colors-379634cf.js";import{u as oe}from"./sizes-f493a09d.js";import{u as le}from"./products-d872cff8.js";import{d as k,u as ae,a as v,r as ie,m as ne}from"./rules-b108a17c.js";import{_ as re}from"./DropZone.vue_vue_type_style_index_0_scoped_ffa8e41b_lang-b095b0ce.js";const de={class:"row my-5"},ce={class:"col-md-8"},ue={class:"card border-0 shadow-sm"},me={class:"card-body"},he={class:"mb-3"},ve=e("label",{for:"post-title",class:"form-label"}," Nombre ",-1),_e={class:"text-danger mt-1"},pe={class:"text-danger mt-1"},ge={class:"mb-3"},be=e("label",{for:"post-content",class:"form-label"}," Content ",-1),we={class:"text-danger mt-1"},fe={class:"text-danger mt-1"},xe={class:"col-md-4"},Ve={class:"card border-0 shadow-sm"},ze={class:"card-body"},ye=e("h6",null,[e("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",fill:"currentColor",class:"bi bi-arrow-down-square",viewBox:"0 0 16 16"},[e("path",{"fill-rule":"evenodd",d:"M15 2a1 1 0 0 0-1-1H2a1 1 0 0 0-1 1v12a1 1 0 0 0 1 1h12a1 1 0 0 0 1-1V2zM0 2a2 2 0 0 1 2-2h12a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H2a2 2 0 0 1-2-2V2zm8.5 2.5a.5.5 0 0 0-1 0v5.793L5.354 8.146a.5.5 0 1 0-.708.708l3 3a.5.5 0 0 0 .708 0l3-3a.5.5 0 0 0-.708-.708L8.5 10.293V4.5z"})]),_(" Acciones ")],-1),Ce={class:"mt-3 justify-content-start d-flex"},Le=["disabled"],qe={class:""},Me={key:0},ke={key:1},He=["disabled"],Se={class:""},Be={key:0},Fe={key:1},Pe=e("h6",{class:"mt-3"},[e("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",fill:"currentColor",class:"bi bi-arrow-down-square",viewBox:"0 0 16 16"},[e("path",{"fill-rule":"evenodd",d:"M15 2a1 1 0 0 0-1-1H2a1 1 0 0 0-1 1v12a1 1 0 0 0 1 1h12a1 1 0 0 0 1-1V2zM0 2a2 2 0 0 1 2-2h12a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H2a2 2 0 0 1-2-2V2zm8.5 2.5a.5.5 0 0 0-1 0v5.793L5.354 8.146a.5.5 0 1 0-.708.708l3 3a.5.5 0 0 0 .708 0l3-3a.5.5 0 0 0-.708-.708L8.5 10.293V4.5z"})]),_(" Categorias ")],-1),Ue={class:"mb-3"},De={class:"text-danger mt-1"},Ee={class:"text-danger mt-1"},Ne=e("h6",{class:"mt-3"},[e("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",fill:"currentColor",class:"bi bi-arrow-down-square",viewBox:"0 0 16 16"},[e("path",{"fill-rule":"evenodd",d:"M15 2a1 1 0 0 0-1-1H2a1 1 0 0 0-1 1v12a1 1 0 0 0 1 1h12a1 1 0 0 0 1-1V2zM0 2a2 2 0 0 1 2-2h12a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H2a2 2 0 0 1-2-2V2zm8.5 2.5a.5.5 0 0 0-1 0v5.793L5.354 8.146a.5.5 0 1 0-.708.708l3 3a.5.5 0 0 0 .708 0l3-3a.5.5 0 0 0-.708-.708L8.5 10.293V4.5z"})]),_(" Colores ")],-1),Te={class:"mb-3"},Ae={style:{display:"flex","align-items":"center"}},Re={style:{display:"flex","align-items":"center"}},je={class:"text-danger mt-1"},Ie={class:"text-danger mt-1"},Je=e("h6",{class:"mt-3"},[e("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",fill:"currentColor",class:"bi bi-arrow-down-square",viewBox:"0 0 16 16"},[e("path",{"fill-rule":"evenodd",d:"M15 2a1 1 0 0 0-1-1H2a1 1 0 0 0-1 1v12a1 1 0 0 0 1 1h12a1 1 0 0 0 1-1V2zM0 2a2 2 0 0 1 2-2h12a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H2a2 2 0 0 1-2-2V2zm8.5 2.5a.5.5 0 0 0-1 0v5.793L5.354 8.146a.5.5 0 1 0-.708.708l3 3a.5.5 0 0 0 .708 0l3-3a.5.5 0 0 0-.708-.708L8.5 10.293V4.5z"})]),_(" Tallas ")],-1),Ke={class:"mb-3"},$e={class:"text-danger mt-1"},Ge={class:"text-danger mt-1"},Oe={class:"mb-3"},Qe=e("h6",{class:"mt-3"},[e("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",fill:"currentColor",class:"bi bi-arrow-down-square",viewBox:"0 0 16 16"},[e("path",{"fill-rule":"evenodd",d:"M15 2a1 1 0 0 0-1-1H2a1 1 0 0 0-1 1v12a1 1 0 0 0 1 1h12a1 1 0 0 0 1-1V2zM0 2a2 2 0 0 1 2-2h12a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H2a2 2 0 0 1-2-2V2zm8.5 2.5a.5.5 0 0 0-1 0v5.793L5.354 8.146a.5.5 0 1 0-.708.708l3 3a.5.5 0 0 0 .708 0l3-3a.5.5 0 0 0-.708-.708L8.5 10.293V4.5z"})]),_(" Thumbnail ")],-1),We={class:"text-danger mt-1"},it={__name:"Edit",setup(Xe){k("required",ie),k("min",ne);const H={title:"required|min:5",content:"required|min:50",categories:"required",colors:"required",sizes:"required"},{validate:S,errors:h,resetForm:Ye}=ae({validationSchema:H}),{value:B}=v("title",null,{initialValue:""}),{value:F}=v("content",null,{initialValue:""}),{value:P}=v("categories",null,{initialValue:"",label:"category"}),{value:U}=v("colors",null,{initialValue:"",label:"color"}),{value:D}=v("sizes",null,{initialValue:"",label:"size"}),{categoryList:E,getCategoryList:N}=te(),{colorList:T,getColorList:A}=se(),{sizeList:R,getSizeList:j}=oe(),{product:r,getProduct:I,updateProduct:J,validationErrors:d,isLoading:c}=le(),o=O({title:B,content:F,categories:P,colors:U,sizes:D,thumbnail:[]}),K=Q();function $(){S().then(p=>{p.valid&&J(o)})}function G(p){o.thumbnail=Array.from(p.target.files)}return W(()=>{I(K.params.id),N(),A(),j()}),X(()=>{o.id=r.value.id,o.title=r.value.title,o.content=r.value.content,o.thumbnail=r.value.original_all_images,o.categories=r.value.categories,o.colors=r.value.colors,o.sizes=r.value.sizes}),(p,n)=>{var f,x,V,z,y,C;const b=Y("v-select");return l(),a("form",{onSubmit:ee($,["prevent"])},[e("div",de,[e("div",ce,[e("div",ue,[e("div",me,[e("div",he,[ve,w(e("input",{"onUpdate:modelValue":n[0]||(n[0]=t=>o.title=t),id:"post-title",type:"text",class:"form-control"},null,512),[[Z,o.title]]),e("div",_e,i(s(h).title),1),e("div",pe,[(l(!0),a(u,null,m((f=s(d))==null?void 0:f.title,t=>(l(),a("div",null,i(t),1))),256))])]),e("div",ge,[be,g(re,{modelValue:o.content,"onUpdate:modelValue":n[1]||(n[1]=t=>o.content=t)},null,8,["modelValue"]),e("div",we,i(s(h).content),1),e("div",fe,[(l(!0),a(u,null,m((x=s(d))==null?void 0:x.content,t=>(l(),a("div",null,i(t),1))),256))])])])])]),e("div",xe,[e("div",Ve,[e("div",ze,[ye,e("div",Ce,[e("button",{disabled:s(c),class:"btn btn btn-outline-primary me-2"},[w(e("div",qe,null,512),[[L,s(c)]]),s(c)?(l(),a("span",Me,"Processing...")):(l(),a("span",ke,"Save Draft"))],8,Le),e("button",{disabled:s(c),class:"btn btn-success"},[w(e("div",Se,null,512),[[L,s(c)]]),s(c)?(l(),a("span",Be,"Processing...")):(l(),a("span",Fe,"Publish"))],8,He)]),Pe,e("div",Ue,[g(b,{multiple:"",modelValue:o.categories,"onUpdate:modelValue":n[2]||(n[2]=t=>o.categories=t),options:s(E),reduce:t=>t.id,label:"name",class:"form-control",placeholder:"Select category"},null,8,["modelValue","options","reduce"]),e("div",De,i(s(h).categories),1),e("div",Ee,[(l(!0),a(u,null,m((V=s(d))==null?void 0:V.categories,t=>(l(),a("div",null,i(t),1))),256))])]),Ne,e("div",Te,[g(b,{multiple:"",modelValue:o.colors,"onUpdate:modelValue":n[3]||(n[3]=t=>o.colors=t),options:s(T),reduce:t=>t.id,label:"code",class:"form-control",placeholder:"Select color"},{"selected-option":q(({code:t})=>[e("div",Ae,[e("span",{style:M([{backgroundColor:t},{display:"inline-block",width:"20px",height:"20px",border:"1px solid #ddd","margin-right":"10px"}])},null,4),e("span",null,i(t),1)])]),option:q(({code:t})=>[e("div",Re,[e("span",{style:M([{backgroundColor:t},{display:"inline-block",width:"20px",height:"20px",border:"1px solid #ddd","margin-right":"10px"}])},null,4),e("span",null,i(t),1)])]),_:1},8,["modelValue","options","reduce"]),e("div",je,i(s(h).colors),1),e("div",Ie,[(l(!0),a(u,null,m((z=s(d))==null?void 0:z.colors,t=>(l(),a("div",null,i(t),1))),256))])]),Je,e("div",Ke,[g(b,{multiple:"",modelValue:o.sizes,"onUpdate:modelValue":n[4]||(n[4]=t=>o.sizes=t),options:s(R),reduce:t=>t.id,label:"name",class:"form-control",placeholder:"Select tallas"},null,8,["modelValue","options","reduce"]),e("div",$e,i(s(h).sizes),1),e("div",Ge,[(l(!0),a(u,null,m((y=s(d))==null?void 0:y.sizes,t=>(l(),a("div",null,i(t),1))),256))])]),e("div",Oe,[Qe,e("input",{onChange:G,type:"file",class:"form-control",id:"thumbnail",multiple:""},null,32),e("div",We,[(l(!0),a(u,null,m((C=s(d))==null?void 0:C.thumbnail,t=>(l(),a("div",null,i(t),1))),256))])])])])])])],32)}}};export{it as default};
