import{p as x,g as E,G as S,H as y,r as C,o as p,f as h,b as e,i as m,a as B,w as F,q as L,j as V,e as g,I as f,h as M,n as r,F as U,A as I,t as b,B as q}from"./app-0cb33df6.js";import{u as z}from"./products-1010f7bf.js";import{u as G}from"./categories-99b3fbd8.js";const O={class:"row justify-content-center my-2"},J={class:"col-md-12"},K={class:"card border-0"},Q={class:"card-header bg-transparent"},R=e("h5",{class:"float-start"},"Productos",-1),W={class:"card-body shadow-sm"},X={class:"mb-4"},Y={class:"table-responsive"},Z={class:"table"},ee={class:"py-3 bg-gray-50 text-left"},te={class:"py-3 bg-gray-50 text-left"},se=e("th",{class:"py-3 text-start"},null,-1),ae={class:"py-3 bg-gray-50 text-left"},le={class:"py-3 bg-gray-50 text-left"},oe=e("th",{class:"py-3 text-start"},null,-1),ne={class:"px-6 py-3 text-start"},ie={class:"select-none"},de={class:"px-6 py-3 text-left"},ce={class:"select-none"},ue=e("th",{class:"px-6 py-3 text-left"},[e("div",{class:"flex flex-row"},[e("div",{class:"font-medium text-uppercase"}," Thumbnail ")])],-1),re=e("th",{class:"px-6 py-3 bg-gray-50 text-left"},[e("span",{class:"text-xs leading-4 font-medium text-gray-500 uppercase tracking-wider"},"Category")],-1),ve=e("th",{class:"px-6 py-3 bg-gray-50 text-left"},[e("span",{class:"text-xs leading-4 font-medium text-gray-500 uppercase tracking-wider"},"Content")],-1),pe={class:"px-6 py-3 bg-gray-50 text-left"},_e={class:"select-none"},me=e("th",{class:"px-6 py-3 bg-gray-50 text-left"}," Actions ",-1),xe={class:"px-6 py-4 text-sm",width:"20"},he={class:"px-6 py-4 text-sm"},ye={class:"px-6 py-4 text-sm"},ge=["src"],fe={class:"px-6 py-4 text-sm"},be={class:"px-6 py-4 text-sm"},ke=["innerHTML"],we={class:"px-6 py-4 text-sm"},Ce={class:"px-6 py-4 text-sm"},Ve=["onClick"],Pe={class:"card-footer"},Le={__name:"Index",setup(Te){const n=x(""),i=x(""),d=x(""),c=x(""),u=x(""),l=x("created_at"),a=x("desc"),{products:P,getProducts:v,deleteProduct:N}=z(),{categoryList:$,getCategoryList:j}=G(),{can:k}=E();S(()=>{v(),j()});const w=o=>{l.value=o,a.value=a.value==="asc"?"desc":"asc",v(1,n.value,i.value,d.value,c.value,u.value,l.value,a.value)};return y(n,(o,s)=>{v(1,o,i.value,d.value,c.value,u.value)}),y(i,(o,s)=>{v(1,n.value,o,d.value,c.value,u.value)}),y(d,(o,s)=>{v(1,n.value,i.value,o,c.value,u.value)}),y(c,(o,s)=>{v(1,n.value,i.value,d.value,o,u.value)}),y(u,_.debounce((o,s)=>{v(1,n.value,i.value,d.value,c.value,o)},200)),(o,s)=>{const T=C("router-link"),A=C("v-select"),H=C("Pagination");return p(),h("div",O,[e("div",J,[e("div",K,[e("div",Q,[R,m(k)("product-create")?(p(),B(T,{key:0,to:{name:"products.create"},class:"btn btn-primary btn-sm float-end"},{default:F(()=>[L(" Crear producto ")]),_:1})):V("",!0)]),e("div",W,[e("div",X,[g(e("input",{"onUpdate:modelValue":s[0]||(s[0]=t=>u.value=t),type:"text",placeholder:"Search...",class:"form-control w-25"},null,512),[[f,u.value]])]),e("div",Y,[e("table",Z,[e("thead",null,[e("tr",null,[e("th",ee,[g(e("input",{"onUpdate:modelValue":s[1]||(s[1]=t=>i.value=t),type:"text",class:"inline-block mt-1 form-control",placeholder:"Filter by ID"},null,512),[[f,i.value]])]),e("th",te,[g(e("input",{"onUpdate:modelValue":s[2]||(s[2]=t=>d.value=t),type:"text",class:"inline-block mt-1 form-control",placeholder:"Filter by Title"},null,512),[[f,d.value]])]),se,e("th",ae,[M(A,{multiple:"",modelValue:n.value,"onUpdate:modelValue":s[3]||(s[3]=t=>n.value=t),options:m($),reduce:t=>t.id,label:"name",class:"form-control w-100"},null,8,["modelValue","options","reduce"])]),e("th",le,[g(e("input",{"onUpdate:modelValue":s[4]||(s[4]=t=>c.value=t),type:"text",class:"inline-block mt-1 form-control",placeholder:"Filter by Content"},null,512),[[f,c.value]])]),oe]),e("tr",null,[e("th",ne,[e("div",{class:"flex flex-row",onClick:s[5]||(s[5]=t=>w("id"))},[e("div",{class:r(["font-medium text-uppercase",{"font-bold text-blue-600":l.value==="id"}])}," ID ",2),e("div",ie,[e("span",{class:r({"text-blue-600":a.value==="asc"&&l.value==="id",hidden:a.value!==""&&a.value!=="asc"&&l.value==="id"})},"↑",2),e("span",{class:r({"text-blue-600":a.value==="desc"&&l.value==="id",hidden:a.value!==""&&a.value!=="desc"&&l.value==="id"})},"↓",2)])])]),e("th",de,[e("div",{class:"flex flex-row",onClick:s[6]||(s[6]=t=>w("title"))},[e("div",{class:r(["font-medium text-uppercase",{"font-bold text-blue-600":l.value==="title"}])}," Title ",2),e("div",ce,[e("span",{class:r({"text-blue-600":a.value==="asc"&&l.value==="title",hidden:a.value!==""&&a.value!=="asc"&&l.value==="title"})},"↑",2),e("span",{class:r({"text-blue-600":a.value==="desc"&&l.value==="title",hidden:a.value!==""&&a.value!=="desc"&&l.value==="title"})},"↓",2)])])]),ue,re,ve,e("th",pe,[e("div",{class:"flex flex-row items-center justify-between cursor-pointer",onClick:s[7]||(s[7]=t=>w("created_at"))},[e("div",{class:r(["leading-4 font-medium text-gray-500 uppercase tracking-wider",{"font-bold text-blue-600":l.value==="created_at"}])}," Created at ",2),e("div",_e,[e("span",{class:r({"text-blue-600":a.value==="asc"&&l.value==="created_at",hidden:a.value!==""&&a.value!=="asc"&&l.value==="created_at"})},"↑",2),e("span",{class:r({"text-blue-600":a.value==="desc"&&l.value==="created_at",hidden:a.value!==""&&a.value!=="desc"&&l.value==="created_at"})},"↓",2)])])]),me])]),e("tbody",null,[(p(!0),h(U,null,I(m(P).data,t=>(p(),h("tr",{key:t.id},[e("td",xe,b(t.id),1),e("td",he,b(t.title),1),e("td",ye,[e("img",{src:t.original_image,alt:"image",height:"70"},null,8,ge)]),e("td",fe,[(p(!0),h(U,null,I(t.categories,D=>(p(),h("div",null,b(D.name),1))),256))]),e("td",be,[e("div",{innerHTML:t.content.slice(0,100)+"..."},null,8,ke)]),e("td",we,b(t.created_at),1),e("td",Ce,[m(k)("product-edit")?(p(),B(T,{key:0,to:{name:"products.edit",params:{id:t.id}},class:"badge bg-primary"},{default:F(()=>[L("Edit ")]),_:2},1032,["to"])):V("",!0),m(k)("product-delete")?(p(),h("a",{key:1,href:"#",onClick:q(D=>m(N)(t.id),["prevent"]),class:"ms-2 badge bg-danger"},"Delete",8,Ve)):V("",!0)])]))),128))])])])]),e("div",Pe,[M(H,{data:m(P),limit:3,onPaginationChangePage:s[8]||(s[8]=t=>m(v)(t,n.value,i.value,d.value,c.value,u.value,l.value,a.value)),class:"mt-4"},null,8,["data"])])])])])}}};export{Le as default};
