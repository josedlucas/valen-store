import{p,g as A,B as F,G as b,r as P,o as v,f as m,b as e,h as r,a as V,w as D,j as f,e as y,y as g,n,F as I,A as T,i as $,q as B,t as k,H as j}from"./app-d2701d12.js";import{u as M}from"./permissions-c664d332.js";const O={class:"justify-content-center my-2"},S={class:"col-md-12"},U={class:"card border-0"},q={class:"card-header bg-transparent"},z=e("h5",{class:"float-start"},"Permissions",-1),G={class:"card-body shadow-sm"},H={class:"mb-4"},L={class:"table-responsive"},R={class:"table"},J={class:"p py-3 bg-gray-50 text-left"},K={class:"p py-3 bg-gray-50 text-left"},Q=e("th",{class:"py-3 text-start"},null,-1),W=e("th",{class:"py-3 text-start"},null,-1),X={class:"px-6 py-3 text-start"},Y={class:"select-none ms-3"},Z={class:"px-6 py-3 text-left"},ee={class:"select-none ms-3"},te={class:"px-6 py-3 bg-gray-50 text-left"},se={class:"select-none ms-3"},ae=e("th",{class:"px-6 py-3 bg-gray-50 text-left"}," ACCIONES ",-1),le={class:"px-6 py-4 text-sm"},ne={class:"px-6 py-4 text-sm"},oe={class:"px-6 py-4 text-sm"},ie={class:"px-6 py-4 text-sm"},de=["onClick"],ce={class:"card-footer"},me={__name:"Index",setup(re){const i=p(""),d=p(""),c=p(""),s=p("created_at"),t=p("desc"),{permissions:C,getPermissions:u,deletePermission:E}=M(),{can:x}=A();F(()=>{u()});const h=o=>{s.value=o,t.value=t.value==="asc"?"desc":"asc",u(1,i.value,d.value,c.value,s.value,t.value)};return b(i,(o,a)=>{u(1,o,d.value,c.value)}),b(d,(o,a)=>{u(1,i.value,o,c.value)}),b(c,_.debounce((o,a)=>{u(1,i.value,d.value,o)},200)),(o,a)=>{const w=P("router-link"),N=P("Pagination");return v(),m("div",O,[e("div",S,[e("div",U,[e("div",q,[z,r(x)("permission-create")?(v(),V(w,{key:0,to:{name:"permissions.create"},class:"btn btn-success btn-sm float-end"},{default:D(()=>[B(" Create Permission ")]),_:1})):f("",!0)]),e("div",G,[e("div",H,[y(e("input",{"onUpdate:modelValue":a[0]||(a[0]=l=>c.value=l),type:"text",placeholder:"Search...",class:"form-control w-25"},null,512),[[g,c.value]])]),e("div",L,[e("table",R,[e("thead",null,[e("tr",null,[e("th",J,[y(e("input",{"onUpdate:modelValue":a[1]||(a[1]=l=>i.value=l),type:"text",class:"inline-block mt-1 form-control",placeholder:"Filter by ID"},null,512),[[g,i.value]])]),e("th",K,[y(e("input",{"onUpdate:modelValue":a[2]||(a[2]=l=>d.value=l),type:"text",class:"inline-block mt-1 form-control",placeholder:"Filter by Title"},null,512),[[g,d.value]])]),Q,W]),e("tr",null,[e("th",X,[e("div",{class:"d-flex flex flex-row",onClick:a[3]||(a[3]=l=>h("id"))},[e("div",{class:n(["font-medium text-uppercase",{"font-bold text-blue-600":s.value==="id"}])}," ID ",2),e("div",Y,[e("span",{class:n({"text-blue-600":t.value==="asc"&&s.value==="id",hidden:t.value!==""&&t.value!=="asc"&&s.value==="id"})},"↑",2),e("span",{class:n({"text-blue-600":t.value==="desc"&&s.value==="id",hidden:t.value!==""&&t.value!=="desc"&&s.value==="id"})},"↓",2)])])]),e("th",Z,[e("div",{class:"d-flex flex flex-row",onClick:a[4]||(a[4]=l=>h("name"))},[e("div",{class:n(["font-medium text-uppercase",{"font-bold text-blue-600":s.value==="name"}])}," Title ",2),e("div",ee,[e("span",{class:n({"text-blue-600":t.value==="asc"&&s.value==="name",hidden:t.value!==""&&t.value!=="asc"&&s.value==="name"})},"↑",2),e("span",{class:n({"text-blue-600":t.value==="desc"&&s.value==="name",hidden:t.value!==""&&t.value!=="desc"&&s.value==="name"})},"↓",2)])])]),e("th",te,[e("div",{class:"d-flex flex flex-row items-center justify-between cursor-pointer",onClick:a[5]||(a[5]=l=>h("created_at"))},[e("div",{class:n(["leading-4 font-medium text-gray-500 uppercase tracking-wider",{"font-bold text-blue-600":s.value==="created_at"}])}," CREADO ",2),e("div",se,[e("span",{class:n({"text-blue-600":t.value==="asc"&&s.value==="created_at",hidden:t.value!==""&&t.value!=="asc"&&s.value==="created_at"})},"↑",2),e("span",{class:n({"text-blue-600":t.value==="desc"&&s.value==="created_at",hidden:t.value!==""&&t.value!=="desc"&&s.value==="created_at"})},"↓",2)])])]),ae])]),e("tbody",null,[(v(!0),m(I,null,T(r(C).data,l=>(v(),m("tr",{key:l.id},[e("td",le,k(l.id),1),e("td",ne,k(l.name),1),e("td",oe,k(l.created_at),1),e("td",ie,[r(x)("permission-edit")?(v(),V(w,{key:0,to:{name:"permissions.edit",params:{id:l.id}},class:"badge bg-success"},{default:D(()=>[B("Editar ")]),_:2},1032,["to"])):f("",!0),r(x)("permission-delete")?(v(),m("a",{key:1,href:"#",onClick:j(ue=>r(E)(l.id),["prevent"]),class:"ms-2 badge bg-danger"},"Eliminar",8,de)):f("",!0)])]))),128))])])])]),e("div",ce,[$(N,{data:r(C),limit:3,onPaginationChangePage:a[6]||(a[6]=l=>r(u)(l,i.value,d.value,c.value,s.value,t.value)),class:"mt-4"},null,8,["data"])])])])])}}};export{me as default};
