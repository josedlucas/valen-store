import{p as x,g as H,B as O,G as g,r as w,o as p,f as h,b as e,h as m,a as B,w as E,q as F,j as V,e as y,y as f,i as L,n as r,F as M,A as N,t as b,H as S}from"./app-aa08524b.js";import{u as q}from"./products-64326b73.js";import{u as z}from"./categories-7ee1808e.js";const G={class:"justify-content-center my-2"},R={class:"col-md-12"},J={class:"card border-0"},K={class:"card-header bg-transparent"},Q=e("h5",{class:"float-start"},"Productos",-1),W={class:"card-body shadow-sm"},X={class:"mb-4"},Y={class:"table-responsive"},Z={class:"table"},ee={class:"py-3 bg-gray-50 text-left align-items-center"},te={class:"py-3 bg-gray-50 text-left align-items-center"},se=e("th",{class:"py-3 text-start align-items-center"},null,-1),le={class:"py-3 bg-gray-50 text-left align-items-center"},ae={class:"py-3 bg-gray-50 text-left align-items-center"},oe=e("th",{class:"py-3 text-start align-items-center"},null,-1),ne=e("th",{class:"py-3 text-start align-items-center"},null,-1),ie={class:"px-6 py-3 text-start"},ce={class:"select-none ms-3"},de={class:"px-6 py-3 text-left"},ue={class:"select-none ms-3"},re=e("th",{class:"px-6 py-3 text-left"},[e("div",{class:"d-flex flex flex-row"},[e("div",{class:"font-medium text-uppercase"}," Thumbnail ")])],-1),ve=e("th",{class:"px-6 py-3 bg-gray-50 text-left"},[e("div",{class:"leading-4 font-medium text-gray-500 uppercase tracking-wider"},"Category")],-1),pe=e("th",{class:"px-6 py-3 bg-gray-50 text-left"},[e("span",{class:"leading-4 font-medium text-gray-500 uppercase tracking-wider"},"Content")],-1),_e={class:"px-6 py-3 bg-gray-50 text-left"},me={class:"select-none ms-3"},xe=e("th",{class:"px-6 py-3 bg-gray-50 text-left"}," ACCIONES ",-1),he={class:"px-6 py-4 text-sm",width:"20"},ge={class:"px-6 py-4 text-sm"},ye={class:"px-6 py-4 text-sm"},fe=["src"],be={class:"px-6 py-4 text-sm"},ke={class:"px-6 py-4 text-sm"},Ce=["innerHTML"],we={class:"px-6 py-4 text-sm"},Ve={class:"px-6 py-4 text-sm"},Pe=["onClick"],Te={class:"card-footer"},Le={__name:"Index",setup(De){const n=x(""),i=x(""),c=x(""),d=x(""),u=x(""),a=x("created_at"),l=x("desc"),{products:P,getProducts:v,deleteProduct:U}=q(),{categoryList:A,getCategoryList:I}=z(),{can:k}=H();O(()=>{v(),I()});const C=o=>{a.value=o,l.value=l.value==="asc"?"desc":"asc",v(1,n.value,i.value,c.value,d.value,u.value,a.value,l.value)};return g(n,(o,s)=>{v(1,o,i.value,c.value,d.value,u.value)}),g(i,(o,s)=>{v(1,n.value,o,c.value,d.value,u.value)}),g(c,(o,s)=>{v(1,n.value,i.value,o,d.value,u.value)}),g(d,(o,s)=>{v(1,n.value,i.value,c.value,o,u.value)}),g(u,_.debounce((o,s)=>{v(1,n.value,i.value,c.value,d.value,o)},200)),(o,s)=>{const T=w("router-link"),$=w("v-select"),j=w("Pagination");return p(),h("div",G,[e("div",R,[e("div",J,[e("div",K,[Q,m(k)("product-create")?(p(),B(T,{key:0,to:{name:"products.create"},class:"btn btn-success btn-sm float-end"},{default:E(()=>[F(" Crear producto ")]),_:1})):V("",!0)]),e("div",W,[e("div",X,[y(e("input",{"onUpdate:modelValue":s[0]||(s[0]=t=>u.value=t),type:"text",placeholder:"Search...",class:"form-control w-25"},null,512),[[f,u.value]])]),e("div",Y,[e("table",Z,[e("thead",null,[e("tr",null,[e("th",ee,[y(e("input",{"onUpdate:modelValue":s[1]||(s[1]=t=>i.value=t),type:"text",class:"inline-block mt-1 form-control",placeholder:"Filter by ID"},null,512),[[f,i.value]])]),e("th",te,[y(e("input",{"onUpdate:modelValue":s[2]||(s[2]=t=>c.value=t),type:"text",class:"inline-block mt-1 form-control",placeholder:"Filter by Title"},null,512),[[f,c.value]])]),se,e("th",le,[L($,{multiple:"",modelValue:n.value,"onUpdate:modelValue":s[3]||(s[3]=t=>n.value=t),options:m(A),reduce:t=>t.id,label:"name",class:"form-control w-100"},null,8,["modelValue","options","reduce"])]),e("th",ae,[y(e("input",{"onUpdate:modelValue":s[4]||(s[4]=t=>d.value=t),type:"text",class:"inline-block mt-1 form-control",placeholder:"Filter by Content"},null,512),[[f,d.value]])]),oe,ne]),e("tr",null,[e("th",ie,[e("div",{class:"d-flex flex flex-row",onClick:s[5]||(s[5]=t=>C("id"))},[e("div",{class:r(["font-medium text-uppercase",{"font-bold text-blue-600":a.value==="id"}])}," ID ",2),e("div",ce,[e("span",{class:r({"text-blue-600":l.value==="asc"&&a.value==="id",hidden:l.value!==""&&l.value!=="asc"&&a.value==="id"})},"↑",2),e("span",{class:r({"text-blue-600":l.value==="desc"&&a.value==="id",hidden:l.value!==""&&l.value!=="desc"&&a.value==="id"})},"↓",2)])])]),e("th",de,[e("div",{class:"d-flex flex flex-row",onClick:s[6]||(s[6]=t=>C("title"))},[e("div",{class:r(["font-medium text-uppercase",{"font-bold text-blue-600":a.value==="title"}])}," Title ",2),e("div",ue,[e("span",{class:r({"text-blue-600":l.value==="asc"&&a.value==="title",hidden:l.value!==""&&l.value!=="asc"&&a.value==="title"})},"↑",2),e("span",{class:r({"text-blue-600":l.value==="desc"&&a.value==="title",hidden:l.value!==""&&l.value!=="desc"&&a.value==="title"})},"↓",2)])])]),re,ve,pe,e("th",_e,[e("div",{class:"d-flex flex flex-row items-center justify-between cursor-pointer",onClick:s[7]||(s[7]=t=>C("created_at"))},[e("div",{class:r(["leading-4 font-medium text-gray-500 uppercase tracking-wider",{"font-bold text-blue-600":a.value==="created_at"}])}," CREADO ",2),e("div",me,[e("span",{class:r({"text-blue-600":l.value==="asc"&&a.value==="created_at",hidden:l.value!==""&&l.value!=="asc"&&a.value==="created_at"})},"↑",2),e("span",{class:r({"text-blue-600":l.value==="desc"&&a.value==="created_at",hidden:l.value!==""&&l.value!=="desc"&&a.value==="created_at"})},"↓",2)])])]),xe])]),e("tbody",null,[(p(!0),h(M,null,N(m(P).data,t=>(p(),h("tr",{key:t.id},[e("td",he,b(t.id),1),e("td",ge,b(t.title),1),e("td",ye,[e("img",{src:t.original_image,alt:"image",height:"70"},null,8,fe)]),e("td",be,[(p(!0),h(M,null,N(t.categories,D=>(p(),h("div",null,b(D.name),1))),256))]),e("td",ke,[e("div",{innerHTML:t.content.slice(0,100)+"..."},null,8,Ce)]),e("td",we,b(t.created_at),1),e("td",Ve,[m(k)("product-edit")?(p(),B(T,{key:0,to:{name:"products.edit",params:{id:t.id}},class:"badge bg-success"},{default:E(()=>[F("Editar ")]),_:2},1032,["to"])):V("",!0),m(k)("product-delete")?(p(),h("a",{key:1,href:"#",onClick:S(D=>m(U)(t.id),["prevent"]),class:"ms-2 badge bg-danger"},"Eliminar",8,Pe)):V("",!0)])]))),128))])])])]),e("div",Te,[L(j,{data:m(P),limit:3,onPaginationChangePage:s[8]||(s[8]=t=>m(v)(t,n.value,i.value,c.value,d.value,u.value,a.value,l.value)),class:"mt-4"},null,8,["data"])])])])])}}};export{Le as default};
