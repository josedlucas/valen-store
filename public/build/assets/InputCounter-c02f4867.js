import{p as d,P as f,_ as v,G as C,o as _,f as x,b as l,e as h,y}from"./app-02e1235c.js";import{u as b}from"./cartStore-311f76e6.js";function B(){const r=d([]),e=d(!1),n=f("$swal"),s=b(),a=n.mixin({toast:!0,position:"center",customClass:{popup:"colored-toast"},showConfirmButton:!1,timer:1500,timerProgressBar:!0}),c=async()=>{axios.get("/api/car").then(t=>{r.value=t.data.data[0]})};return{getCar:c,addToCar:async t=>{e.value=!0,axios.post("/api/car",t).then(async o=>{e.value=!1,await s.addProduct(o.data.data.carItems),a.fire({icon:"success",title:"Producto agregado al carrito correctamente"})}).catch(o=>{e.value=!1,a.fire({icon:"error",title:"No se pudo agregar el producto al carrito"})})},deleteCarItem:async t=>{e.value=!0,axios.delete("/api/car/"+t).then(async o=>{c(),e.value=!1,await s.addProduct(o.data.data.carItems),a.fire({icon:"success",title:"Producto eliminado del carrito correctamente"})}).catch(o=>{e.value=!1,a.fire({icon:"error",title:"No se pudo eliminar del carrito"})})},deleteCar:async t=>{e.value=!0,axios.delete("/api/car/deleteall/"+t).then(async o=>{c(),e.value=!1,await s.clearCart(),a.fire({icon:"success",title:"Carrito vaciado correctamente"})}).catch(o=>{e.value=!1,a.fire({icon:"error",title:"No se pudo vaciar el carrito"})})},updateCar:()=>{e.value=!0,axios.put("/api/car/"+r.value.id,r.value).then(t=>{e.value=!1}).catch(t=>{e.value=!1,a.fire({icon:"error",title:"No se pudo actualizar el carrito"})})},car:r,isLoading:e}}const g={class:"input-number-container"},I=["max"],w={__name:"InputCounter",props:{count:{type:Number,default:1},maxValue:{type:Number,default:100}},emits:["update:count"],setup(r,{emit:e}){const n=e,s=r,a=d(s.count);C(a,u=>{n("update:count",u)});const c=()=>{a.value>0&&a.value--},p=()=>{a.value<s.maxValue&&a.value++};return(u,i)=>(_(),x("div",g,[l("span",{class:"input-number-decrement",onClick:c},"-"),h(l("input",{class:"input-number border-0",type:"number","onUpdate:modelValue":i[0]||(i[0]=m=>a.value=m),min:0,max:r.maxValue},null,8,I),[[y,a.value]]),l("span",{class:"input-number-increment",onClick:p},"+")]))}},V=v(w,[["__scopeId","data-v-4b68f816"]]);export{V as I,B as u};
