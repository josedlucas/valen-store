import{p as h,k as tt,I as et,B as st,S as g,o,f as l,b as t,i as S,w as v,s as A,h as i,H as ot,F as c,A as p,t as u,x as at,a as I,e as R,T as E,J as lt}from"./app-02e1235c.js";import{S as M,C as T}from"./carousel.es-a9fc7458.js";import{u as dt,I as nt}from"./InputCounter-c02f4867.js";import{d as it,u as rt,a as z,r as ct}from"./rules-e501c1c8.js";import"./cartStore-311f76e6.js";const ut="/build/assets/regla-15535c31.svg",_t="/build/assets/background-dd9a96d1.svg";const mt={id:"section1ProductDetail"},ht={class:"container col-xl-9 mx-xl-auto"},pt={class:"row py-5"},ft={class:"col-lg-5"},vt=["src"],gt=["src","onClick"],bt={class:"pt-lg-2 pt-4"},xt={class:"font-size-14"},yt={class:"fs-xl-35 fw-light"},wt={class:"pt-lg-4 pt-4 pb-xl-5"},St=t("span",{class:"font-size-14"},"DESCRIPCIÓN DEL PRODUCTO",-1),zt=["innerHTML"],kt=t("span",{class:"font-size-14"},"ESPECIFICACIONES",-1),Ct={class:"pt-3 d-flex"},Vt={class:"me-2"},At=["value","id"],It=["for"],Mt={class:"text-danger mt-1 d-block"},Tt={class:"pt-3 d-flex flex-wrap"},Lt={class:"me-2"},Dt=["value","id"],Pt=["for"],Rt={class:"text-danger mt-1"},Et=t("div",{class:"pt-1 pb-4 pt-3"},[t("a",{class:"text-muted",href:"","data-bs-toggle":"modal","data-bs-target":"#modalDeMedidas"},[t("img",{src:ut}),t("span",{class:"ms-md-3"},"Guía de Tallas")])],-1),Xt={class:"d-flex"},$t={class:"btn btn-warning px-3 py-2 rounded-0 ms-md-3",type:"submit"},qt={key:0},Bt={key:1},Ft={class:"modal fade",id:"modalDeMedidas",tabindex:"-1","aria-labelledby":"modalDeMedidasLabel","aria-hidden":"true"},Ot={class:"modal-dialog"},Ut={class:"modal-content rounded-0"},Nt={class:"modal-body"},Gt={class:"modal-header"},Ht={class:"d-flex align-items-center mx-auto"},Yt={class:"text-center"},Zt={class:"fs-6 fw-light",style:{"text-transform":"uppercase"}},Jt=t("p",{class:"fw-light"},"Medidas referenciales en cm",-1),jt=t("button",{class:"btn-close position-absolute",type:"button","data-bs-dismiss":"modal","aria-label":"Close",style:{right:"3rem"}},null,-1),Kt=at('<table class="table table-hover"><thead><tr><th class="text-center">Talle</th><th>XS</th><th>S</th><th>M</th><th>L</th><th>XL</th><th>XXL</th><th>XXXL</th></tr></thead><tbody><tr><td class="text-center">Ancho de pecho</td><td>52</td><td>54</td><td>56</td><td>58</td><td>62</td><td>64</td><td>66</td></tr><tr><td class="text-center">Ancho cadera</td><td>52</td><td>54</td><td>56</td><td>58</td><td>62</td><td>64</td><td>66</td></tr><tr><td class="text-center">Largo total</td><td>52</td><td>54</td><td>56</td><td>58</td><td>62</td><td>64</td><td>66</td></tr></tbody></table>',1),Qt=t("img",{src:_t,class:"w-100 mt-5 mb-6",alt:""},null,-1),Wt={class:"container col-xl-9 mx-xl-auto"},te=["href"],ee=["src"],se={class:"card-body pt-2 ps-2 text-start"},oe={class:"mt-lg-1 card-title font-size-lg-22 font-size-md-21 fw-bold",style:{"text-transform":"uppercase"}},me={__name:"details",setup(ae){it("required",ct);const{car:le,getCar:de,addToCar:X,isLoading:$}=dt(),_=h(0),k=h([]),C=tt(),q={product_id:"required",total_product:"required",size_id:"required",color_id:"required"},{validate:B,errors:L}=rt({validationSchema:q}),{value:F}=z("product_id",null,{initialValue:parseInt(C.params.id)}),{value:O}=z("total_product",null,{initialValue:1}),{value:U}=z("color_id",null,{initialValue:"",label:"color"}),{value:N}=z("size_id",null,{initialValue:"",label:"size"}),f=et({product_id:F,total_product:O,color_id:U,size_id:N});function G(){B().then(s=>{s.valid&&X(f)})}const H={snapAlign:"center",wrapAround:!0,breakpoints:{0:{itemsToShow:3},768:{itemsToShow:5}}},Y={itemsToShow:1,snapAlign:"center",wrapAround:!1},Z={itemsToShow:4,wrapAround:!0,snapAlign:"center"},J=s=>{f.total_product=s};function j(s){_.value=s}function K(s){return a=>{a&&(k.value[s]=a)}}function Q(s){const a=k.value[_.value];if(!a)return;const m=a.getBoundingClientRect(),b=s.clientX-m.left,x=s.clientY-m.top,y=b/m.width*100,w=x/m.height*100;a.style.transformOrigin=`${y}% ${w}%`,a.style.transform="scale(3)"}function W(){const s=k.value[_.value];s&&(s.style.transform="scale(1)",s.style.transformOrigin="center center")}const n=h({}),D=h({}),V=h({});return h({}),h({}),st(()=>{g.get("/api/get-product/"+C.params.id).then(({data:s})=>{n.value=s}),g.get("/api/get-products-interest/"+C.params.id).then(({data:s})=>{D.value=s.data}),g.get("/api/category-list").then(({data:s})=>{V.value=s.data}),g.get("/api/color-list").then(({data:s})=>{V.value=s.data}),g.get("/api/size-list").then(({data:s})=>{V.value=s.data})}),(s,a)=>{var m,b,x,y,w,P;return o(),l(c,null,[t("section",mt,[t("div",ht,[t("div",pt,[t("div",ft,[S(i(T),A({id:"gallery"},Y,{modelValue:_.value,"onUpdate:modelValue":a[0]||(a[0]=e=>_.value=e)}),{default:v(()=>{var e;return[(o(!0),l(c,null,p((e=n.value)==null?void 0:e.media,(d,r)=>(o(),I(i(M),{class:"carousel__item zoom-container",key:d,onMousemove:Q,onMouseleave:W},{default:v(()=>[t("img",{src:(d==null?void 0:d.original_url)??"",class:"img-width-100 rounded-3 zoom-image",ref_for:!0,ref:K(r)},null,8,vt)]),_:2},1024))),128))]}),_:1},16,["modelValue"]),S(i(T),A({id:"thumbnails"},H,{modelValue:_.value,"onUpdate:modelValue":a[1]||(a[1]=e=>_.value=e),ref:"carousel",class:"thumbnail mt-xl-3"}),{default:v(()=>{var e;return[(o(!0),l(c,null,p((e=n.value)==null?void 0:e.media,(d,r)=>(o(),I(i(M),{key:d},{default:v(()=>[t("img",{src:d.original_url??"",class:"w-xl-70 w-50 rounded-2",onClick:ne=>j(r)},null,8,gt)]),_:2},1024))),128))]}),_:1},16,["modelValue"])]),t("form",{onSubmit:ot(G,["prevent"]),class:"col-lg-6 ps-lg-5"},[t("div",bt,[(o(!0),l(c,null,p((m=n.value)==null?void 0:m.categories,e=>(o(),l("span",xt,u(e.name),1))),256)),t("h1",yt,u((b=n.value)==null?void 0:b.title),1)]),t("div",wt,[St,t("h4",{class:"mt-2 pt-2 fs-xl-18",innerHTML:(x=n.value)==null?void 0:x.content},null,8,zt)]),kt,t("div",Ct,[(o(!0),l(c,null,p((y=n.value)==null?void 0:y.colors,(e,d)=>(o(),l("div",Vt,[R(t("input",{value:e.id,class:"btn-check",id:`color${e.id}`,type:"radio",name:"color",autocomplete:"off","onUpdate:modelValue":a[2]||(a[2]=r=>f.color_id=r)},null,8,At),[[E,f.color_id]]),t("label",{class:"p-3 btn me-2",style:lt(`background-color: ${e.code};`),for:`color${e.id}`},null,12,It)]))),256))]),t("small",Mt,u(i(L).color_id),1),t("div",Tt,[(o(!0),l(c,null,p((w=n.value)==null?void 0:w.sizes,e=>(o(),l("div",Lt,[R(t("input",{value:e.id,class:"btn-check",id:`size${e.name}`,type:"radio",name:"size",autocomplete:"off","onUpdate:modelValue":a[3]||(a[3]=d=>f.size_id=d)},null,8,Dt),[[E,f.size_id]]),t("label",{class:"btn me-2 btn-outline-dark btn-sm",for:`size${e.name}`},u(e.name),9,Pt)]))),256))]),t("small",Rt,u(i(L).size_id),1),Et,t("div",Xt,[S(nt,{"onUpdate:count":J,count:1}),t("button",$t,[i($)?(o(),l("span",qt,"Processing...")):(o(),l("span",Bt,"AGREGAR AL CARRITO"))])])],32)])])]),t("div",Ft,[t("div",Ot,[t("div",Ut,[t("div",Nt,[t("div",Gt,[t("div",Ht,[t("div",Yt,[t("div",Zt,u((P=n.value)==null?void 0:P.title),1),Jt]),jt])]),Kt])])])]),Qt,t("section",null,[t("div",Wt,[S(i(T),A({id:"thumbnails"},Z,{ref:"carousel",class:"thumbnail mt-xl-3"}),{default:v(()=>[(o(!0),l(c,null,p(D.value,(e,d)=>(o(),I(i(M),{key:e,class:"m-4"},{default:v(()=>[t("a",{href:"/products/"+e.id,class:"card bg-transparent border-0 text-style-none"},[t("img",{class:"rounded-2",src:e.original_image??"",alt:"..."},null,8,ee),t("div",se,[(o(!0),l(c,null,p(e.categories,r=>(o(),l("small",{class:"fs-xl-14",key:r.id},u(r.name),1))),128)),t("h5",oe,u(e.title),1)])],8,te)]),_:2},1024))),128))]),_:1},16)])])],64)}}};export{me as default};
