import{p as h,k as et,I as st,B as ot,S as g,o,f as l,b as t,i as S,w as v,s as T,h as r,H as at,F as u,A as p,t as c,q as X,x as lt,a as A,e as R,T as E,J as dt}from"./app-d2701d12.js";import{S as I,C as M}from"./carousel.es-a576c371.js";import{u as nt,I as it}from"./InputCounter-3a5e39bd.js";import{d as rt,u as ct,a as k,r as ut}from"./rules-a821f6b9.js";import"./cartStore-33cba521.js";const _t="/build/assets/regla-15535c31.svg",mt="/build/assets/background-dd9a96d1.svg";const ht={id:"section1ProductDetail"},pt={class:"container col-xl-9 mx-xl-auto col-11"},ft={class:"row py-5"},vt={class:"col-lg-5"},gt=["src"],bt=["src","onClick"],xt={class:"pt-lg-2 pt-4"},yt={class:"d-flex"},wt={class:"font-size-14 me-2"},St=t("div",{class:"raya-b w-10 mb-2"},null,-1),kt={class:"fs-xl-35 fw-light pt-3"},Ct={class:"pt-lg-4 pt-4 pb-xl-5"},zt=t("span",{class:"font-size-14"},[X(" DESCRIPCIÓN DEL PRODUCTO "),t("div",{class:"raya-b w-10"})],-1),Vt=["innerHTML"],Tt=t("span",{class:"font-size-14"},[X(" ESPECIFICACIONES "),t("div",{class:"raya-b w-10"})],-1),At={class:"pt-4 d-flex"},It={class:"me-2"},Mt=["value","id"],Lt=["for"],Dt={class:"text-danger mt-1 d-block"},Pt={class:"pt-3 d-flex flex-wrap"},Rt={class:"me-2"},Et=["value","id"],Xt=["for"],$t={class:"text-danger mt-1"},qt=t("div",{class:"pt-1 pb-4 pt-3"},[t("a",{class:"text-muted",href:"","data-bs-toggle":"modal","data-bs-target":"#modalDeMedidas"},[t("img",{src:_t}),t("span",{class:"ms-md-3"},"Guía de Tallas")])],-1),Bt={class:"d-flex"},Ft={class:"btn btn-warning px-3 py-2 rounded-0 ms-3",type:"submit"},Nt={key:0},Ot={key:1},Ut={class:"modal fade",id:"modalDeMedidas",tabindex:"-1","aria-labelledby":"modalDeMedidasLabel","aria-hidden":"true"},Gt={class:"modal-dialog"},Ht={class:"modal-content rounded-0"},Yt={class:"modal-body"},Zt={class:"modal-header"},Jt={class:"d-flex align-items-center mx-auto"},jt={class:"text-center"},Kt={class:"fs-6 fw-light",style:{"text-transform":"uppercase"}},Qt=t("p",{class:"fw-light"},"Medidas referenciales en cm",-1),Wt=t("button",{class:"btn-close position-absolute",type:"button","data-bs-dismiss":"modal","aria-label":"Close",style:{right:"3rem"}},null,-1),te=lt('<table class="table table-hover"><thead><tr><th class="text-center">Talle</th><th>XS</th><th>S</th><th>M</th><th>L</th><th>XL</th><th>XXL</th><th>XXXL</th></tr></thead><tbody><tr><td class="text-center">Ancho de pecho</td><td>52</td><td>54</td><td>56</td><td>58</td><td>62</td><td>64</td><td>66</td></tr><tr><td class="text-center">Ancho cadera</td><td>52</td><td>54</td><td>56</td><td>58</td><td>62</td><td>64</td><td>66</td></tr><tr><td class="text-center">Largo total</td><td>52</td><td>54</td><td>56</td><td>58</td><td>62</td><td>64</td><td>66</td></tr></tbody></table>',1),ee=t("img",{src:mt,class:"w-100 mt-5 mb-xl-6 mb-3",alt:""},null,-1),se={class:"container col-xl-9 mx-xl-auto"},oe=["href"],ae=["src"],le={class:"card-body pt-2 ps-2 text-start"},de={class:"mt-lg-1 card-title fs-xl-22 fs-20 fw-bold",style:{"text-transform":"uppercase"}},fe={__name:"details",setup(ne){rt("required",ut);const{car:ie,getCar:re,addToCar:$,isLoading:q}=nt(),_=h(0),C=h([]),z=et(),B={product_id:"required",total_product:"required",size_id:"required",color_id:"required"},{validate:F,errors:L}=ct({validationSchema:B}),{value:N}=k("product_id",null,{initialValue:parseInt(z.params.id)}),{value:O}=k("total_product",null,{initialValue:1}),{value:U}=k("color_id",null,{initialValue:"",label:"color"}),{value:G}=k("size_id",null,{initialValue:"",label:"size"}),f=st({product_id:N,total_product:O,color_id:U,size_id:G});function H(){F().then(s=>{s.valid&&$(f)})}const Y={snapAlign:"center",wrapAround:!0,breakpoints:{0:{itemsToShow:3},768:{itemsToShow:5}}},Z={itemsToShow:1,snapAlign:"center",wrapAround:!1},J={wrapAround:!0,snapAlign:"center",breakpoints:{0:{itemsToShow:3},768:{itemsToShow:4}}},j=s=>{f.total_product=s};function K(s){_.value=s}function Q(s){return a=>{a&&(C.value[s]=a)}}function W(s){const a=C.value[_.value];if(!a)return;const m=a.getBoundingClientRect(),b=s.clientX-m.left,x=s.clientY-m.top,y=b/m.width*100,w=x/m.height*100;a.style.transformOrigin=`${y}% ${w}%`,a.style.transform="scale(3)"}function tt(){const s=C.value[_.value];s&&(s.style.transform="scale(1)",s.style.transformOrigin="center center")}const i=h({}),D=h({}),V=h({});return h({}),h({}),ot(()=>{g.get("/api/get-product/"+z.params.id).then(({data:s})=>{i.value=s}),g.get("/api/get-products-interest/"+z.params.id).then(({data:s})=>{D.value=s.data}),g.get("/api/category-list").then(({data:s})=>{V.value=s.data}),g.get("/api/color-list").then(({data:s})=>{V.value=s.data}),g.get("/api/size-list").then(({data:s})=>{V.value=s.data})}),(s,a)=>{var m,b,x,y,w,P;return o(),l(u,null,[t("section",ht,[t("div",pt,[t("div",ft,[t("div",vt,[S(r(M),T({id:"gallery"},Z,{modelValue:_.value,"onUpdate:modelValue":a[0]||(a[0]=e=>_.value=e)}),{default:v(()=>{var e;return[(o(!0),l(u,null,p((e=i.value)==null?void 0:e.media,(d,n)=>(o(),A(r(I),{class:"carousel__item zoom-container",key:d,onMousemove:W,onMouseleave:tt},{default:v(()=>[t("img",{src:(d==null?void 0:d.original_url)??"",class:"img-width-100 rounded-3 zoom-image",ref_for:!0,ref:Q(n)},null,8,gt)]),_:2},1024))),128))]}),_:1},16,["modelValue"]),S(r(M),T({id:"thumbnails"},Y,{modelValue:_.value,"onUpdate:modelValue":a[1]||(a[1]=e=>_.value=e),ref:"carousel",class:"thumbnail mt-xl-3"}),{default:v(()=>{var e;return[(o(!0),l(u,null,p((e=i.value)==null?void 0:e.media,(d,n)=>(o(),A(r(I),{key:d},{default:v(()=>[t("img",{src:d.original_url??"",class:"w-xl-70 w-50 rounded-2",onClick:ce=>K(n)},null,8,bt)]),_:2},1024))),128))]}),_:1},16,["modelValue"])]),t("form",{onSubmit:at(H,["prevent"]),class:"col-lg-6 ps-lg-5"},[t("div",xt,[t("div",yt,[(o(!0),l(u,null,p((m=i.value)==null?void 0:m.categories,(e,d)=>{var n;return o(),l("span",wt,c(e.name)+c(d<((n=i.value)==null?void 0:n.categories.length)-1?", ":""),1)}),256))]),St,t("h1",kt,c((b=i.value)==null?void 0:b.title),1)]),t("div",Ct,[zt,t("h4",{class:"mt-2 pt-3 fs-xl-18 fs-20",innerHTML:(x=i.value)==null?void 0:x.content},null,8,Vt)]),Tt,t("div",At,[(o(!0),l(u,null,p((y=i.value)==null?void 0:y.colors,(e,d)=>(o(),l("div",It,[R(t("input",{value:e.id,class:"btn-check",id:`color${e.id}`,type:"radio",name:"color",autocomplete:"off","onUpdate:modelValue":a[2]||(a[2]=n=>f.color_id=n)},null,8,Mt),[[E,f.color_id]]),t("label",{class:"p-3 btn me-2",style:dt(`background-color: ${e.code};`),for:`color${e.id}`},null,12,Lt)]))),256))]),t("small",Dt,c(r(L).color_id),1),t("div",Pt,[(o(!0),l(u,null,p((w=i.value)==null?void 0:w.sizes,e=>(o(),l("div",Rt,[R(t("input",{value:e.id,class:"btn-check",id:`size${e.name}`,type:"radio",name:"size",autocomplete:"off","onUpdate:modelValue":a[3]||(a[3]=d=>f.size_id=d)},null,8,Et),[[E,f.size_id]]),t("label",{class:"btn me-2 btn-outline-dark btn-sm",for:`size${e.name}`},c(e.name),9,Xt)]))),256))]),t("small",$t,c(r(L).size_id),1),qt,t("div",Bt,[S(it,{"onUpdate:count":j,count:1}),t("button",Ft,[r(q)?(o(),l("span",Nt,"Processing...")):(o(),l("span",Ot,"AGREGAR AL CARRITO"))])])],32)])])]),t("div",Ut,[t("div",Gt,[t("div",Ht,[t("div",Yt,[t("div",Zt,[t("div",Jt,[t("div",jt,[t("div",Kt,c((P=i.value)==null?void 0:P.title),1),Qt]),Wt])]),te])])])]),ee,t("section",null,[t("div",se,[S(r(M),T({id:"thumbnails"},J,{ref:"carousel",class:"thumbnail mt-xl-3"}),{default:v(()=>[(o(!0),l(u,null,p(D.value,(e,d)=>(o(),A(r(I),{key:e,class:"m-4"},{default:v(()=>[t("a",{href:"/products/"+e.id,class:"card bg-transparent border-0 text-style-none"},[t("img",{class:"rounded-2",src:e.original_image??"",alt:"..."},null,8,ae),t("div",le,[(o(!0),l(u,null,p(e.categories,n=>(o(),l("small",{class:"fs-xl-14",key:n.id},c(n.name),1))),128)),t("h5",de,c(e.title),1)])],8,oe)]),_:2},1024))),128))]),_:1},16)])])],64)}}};export{fe as default};
