import{p as _,k as Q,I as W,B as tt,T as y,o as a,f as l,b as t,i as k,w,s as A,h as c,H as et,F as m,A as f,t as h,x as st,a as L,e as T,U as D,J as ot}from"./app-277e06eb.js";import{S as P,C as R}from"./carousel.es-fd0cdec3.js";import{u as at,I as lt}from"./InputCounter-0f988f21.js";import{d as dt,u as nt,a as C,r as it}from"./rules-1c17496e.js";const rt="/build/assets/regla-15535c31.svg";const ct={id:"section1ProductDetail"},ut={class:"container col-xl-9 mx-xl-auto"},_t={class:"row py-5"},mt={class:"col-lg-6"},ht=["src"],pt=["src","onClick"],ft={class:"pt-lg-2 pt-4"},vt={class:"font-size-14"},gt={class:"fs-xl-35 fw-light"},bt={class:"pt-lg-4 pt-4 pb-xl-5"},xt=t("span",{class:"font-size-14"},"DESCRIPCIÓN DEL PRODUCTO",-1),yt=["innerHTML"],wt=t("span",{class:"font-size-14"},"ESPECIFICACIONES",-1),Ct={class:"pt-3 d-flex"},St={class:"me-2"},zt=["value","id"],kt=["for"],Vt={class:"text-danger mt-1 d-block"},Mt={class:"pt-3 d-flex flex-wrap"},It={class:"me-2"},At=["value","id"],Lt=["for"],Tt={class:"text-danger mt-1"},Dt=t("div",{class:"pt-1 pb-4 pt-3"},[t("a",{class:"text-muted",href:"","data-bs-toggle":"modal","data-bs-target":"#modalDeMedidas"},[t("img",{src:rt}),t("span",{class:"ms-md-3"},"Guía de Tallas")])],-1),Pt={class:"d-flex"},Rt={class:"btn btn-warning px-3 py-2 rounded-0 ms-md-3",type:"submit"},Et={key:0},Xt={key:1},$t={class:"modal fade",id:"modalDeMedidas",tabindex:"-1","aria-labelledby":"modalDeMedidasLabel","aria-hidden":"true"},Ut={class:"modal-dialog"},qt={class:"modal-content rounded-0"},Bt={class:"modal-body"},Ft={class:"modal-header"},Ot={class:"d-flex align-items-center mx-auto"},Nt={class:"text-center"},Gt={class:"fs-6 fw-light",style:{"text-transform":"uppercase"}},Ht=t("p",{class:"fw-light"},"Medidas referenciales en cm",-1),Yt=t("button",{class:"btn-close position-absolute",type:"button","data-bs-dismiss":"modal","aria-label":"Close",style:{right:"3rem"}},null,-1),Zt=st('<table class="table table-hover"><thead><tr><th class="text-center">Talle</th><th>XS</th><th>S</th><th>M</th><th>L</th><th>XL</th><th>XXL</th><th>XXXL</th></tr></thead><tbody><tr><td class="text-center">Ancho de pecho</td><td>52</td><td>54</td><td>56</td><td>58</td><td>62</td><td>64</td><td>66</td></tr><tr><td class="text-center">Ancho cadera</td><td>52</td><td>54</td><td>56</td><td>58</td><td>62</td><td>64</td><td>66</td></tr><tr><td class="text-center">Largo total</td><td>52</td><td>54</td><td>56</td><td>58</td><td>62</td><td>64</td><td>66</td></tr></tbody></table>',1),oe={__name:"details",setup(Jt){dt("required",it);const{car:jt,getCar:Kt,addToCar:E,isLoading:X}=at(),i=_(0),S=_([]),V=Q(),$={product_id:"required",total_product:"required",size_id:"required",color_id:"required"},{validate:U,errors:M}=nt({validationSchema:$}),{value:q}=C("product_id",null,{initialValue:parseInt(V.params.id)}),{value:B}=C("total_product",null,{initialValue:1}),{value:F}=C("color_id",null,{initialValue:"",label:"color"}),{value:O}=C("size_id",null,{initialValue:"",label:"size"}),u=W({product_id:q,total_product:B,color_id:F,size_id:O});function N(){U().then(e=>{e.valid&&E(u)})}const G={snapAlign:"center",wrapAround:!0,breakpoints:{0:{itemsToShow:3},768:{itemsToShow:5}}},H={itemsToShow:1,snapAlign:"center",wrapAround:!1},Y=e=>{u.total_product=e};function Z(e){i.value=e}function J(e){return o=>{o&&(S.value[e]=o)}}function j(e){const o=S.value[i.value];if(!o)return;const r=o.getBoundingClientRect(),v=e.clientX-r.left,g=e.clientY-r.top,b=v/r.width*100,x=g/r.height*100;o.style.transformOrigin=`${b}% ${x}%`,o.style.transform="scale(3)"}function K(){const e=S.value[i.value];e&&(e.style.transform="scale(1)",e.style.transformOrigin="center center")}const n=_({}),z=_({});return _({}),_({}),tt(()=>{y.get("/api/get-product/"+V.params.id).then(({data:e})=>{n.value=e}),y.get("/api/category-list").then(({data:e})=>{z.value=e.data}),y.get("/api/color-list").then(({data:e})=>{z.value=e.data}),y.get("/api/size-list").then(({data:e})=>{z.value=e.data})}),(e,o)=>{var r,v,g,b,x,I;return a(),l(m,null,[t("section",ct,[t("div",ut,[t("div",_t,[t("div",mt,[k(c(R),A({id:"gallery"},H,{modelValue:i.value,"onUpdate:modelValue":o[0]||(o[0]=s=>i.value=s)}),{default:w(()=>{var s;return[(a(!0),l(m,null,f((s=n.value)==null?void 0:s.media,(d,p)=>(a(),L(c(P),{class:"carousel__item zoom-container",key:d,onMousemove:j,onMouseleave:K},{default:w(()=>[t("img",{src:(d==null?void 0:d.original_url)??"",class:"img-width-100 rounded-3 zoom-image",ref_for:!0,ref:J(p)},null,8,ht)]),_:2},1024))),128))]}),_:1},16,["modelValue"]),k(c(R),A({id:"thumbnails"},G,{modelValue:i.value,"onUpdate:modelValue":o[1]||(o[1]=s=>i.value=s),ref:"carousel",class:"thumbnail mt-xl-3"}),{default:w(()=>{var s;return[(a(!0),l(m,null,f((s=n.value)==null?void 0:s.media,(d,p)=>(a(),L(c(P),{key:d},{default:w(()=>[t("img",{src:d.original_url??"",class:"w-xl-70 w-50 rounded-2",onClick:Qt=>Z(p)},null,8,pt)]),_:2},1024))),128))]}),_:1},16,["modelValue"])]),t("form",{onSubmit:et(N,["prevent"]),class:"col-lg-6 ps-lg-5"},[t("div",ft,[(a(!0),l(m,null,f((r=n.value)==null?void 0:r.categories,s=>(a(),l("span",vt,h(s.name),1))),256)),t("h1",gt,h((v=n.value)==null?void 0:v.title),1)]),t("div",bt,[xt,t("h4",{class:"mt-2 pt-2 fs-xl-18",innerHTML:(g=n.value)==null?void 0:g.content},null,8,yt)]),wt,t("div",Ct,[(a(!0),l(m,null,f((b=n.value)==null?void 0:b.colors,(s,d)=>(a(),l("div",St,[T(t("input",{value:s.id,class:"btn-check",id:`color${s.id}`,type:"radio",name:"color",autocomplete:"off","onUpdate:modelValue":o[2]||(o[2]=p=>u.color_id=p)},null,8,zt),[[D,u.color_id]]),t("label",{class:"p-3 btn me-2",style:ot(`background-color: ${s.code};`),for:`color${s.id}`},null,12,kt)]))),256))]),t("small",Vt,h(c(M).color_id),1),t("div",Mt,[(a(!0),l(m,null,f((x=n.value)==null?void 0:x.sizes,s=>(a(),l("div",It,[T(t("input",{value:s.id,class:"btn-check",id:`size${s.name}`,type:"radio",name:"size",autocomplete:"off","onUpdate:modelValue":o[3]||(o[3]=d=>u.size_id=d)},null,8,At),[[D,u.size_id]]),t("label",{class:"btn me-2 btn-outline-dark btn-sm",for:`size${s.name}`},h(s.name),9,Lt)]))),256))]),t("small",Tt,h(c(M).size_id),1),Dt,t("div",Pt,[k(lt,{"onUpdate:count":Y,count:1}),t("button",Rt,[c(X)?(a(),l("span",Et,"Processing...")):(a(),l("span",Xt,"AGREGAR AL CARRITO"))])])],32)])])]),t("div",$t,[t("div",Ut,[t("div",qt,[t("div",Bt,[t("div",Ft,[t("div",Ot,[t("div",Nt,[t("div",Gt,h((I=n.value)==null?void 0:I.title),1),Ht]),Yt])]),Zt])])])])],64)}}};export{oe as default};
