import{p as h,k as et,I as st,B as ot,S as g,o,f as l,b as t,i as S,w as v,s as T,h as i,H as at,F as c,A as p,t as u,q as L,x as lt,a as A,e as E,T as X,J as dt}from"./app-46aa184f.js";import{S as I,C as M}from"./carousel.es-bf480dda.js";import{u as nt,I as it}from"./InputCounter-e1347f85.js";import{d as rt,u as ct,a as k,r as ut}from"./rules-ae9329d7.js";import"./cartStore-be0e8ded.js";const _t="/build/assets/regla-15535c31.svg",mt="/build/assets/background-dd9a96d1.svg";const ht={id:"section1ProductDetail"},pt={class:"container col-xl-9 mx-xl-auto col-11"},ft={class:"row py-5"},vt={class:"col-lg-5"},gt=["src"],bt=["src","onClick"],xt={class:"pt-lg-2 pt-4"},yt={class:"font-size-14"},wt=t("div",{class:"raya-b w-10"},null,-1),St={class:"fs-xl-35 fw-light pt-3"},kt={class:"pt-lg-4 pt-4 pb-xl-5"},Ct=t("span",{class:"font-size-14"},[L(" DESCRIPCIÓN DEL PRODUCTO "),t("div",{class:"raya-b w-10"})],-1),zt=["innerHTML"],Vt=t("span",{class:"font-size-14"},[L(" ESPECIFICACIONES "),t("div",{class:"raya-b w-10"})],-1),Tt={class:"pt-4 d-flex"},At={class:"me-2"},It=["value","id"],Mt=["for"],Lt={class:"text-danger mt-1 d-block"},Dt={class:"pt-3 d-flex flex-wrap"},Pt={class:"me-2"},Rt=["value","id"],Et=["for"],Xt={class:"text-danger mt-1"},$t=t("div",{class:"pt-1 pb-4 pt-3"},[t("a",{class:"text-muted",href:"","data-bs-toggle":"modal","data-bs-target":"#modalDeMedidas"},[t("img",{src:_t}),t("span",{class:"ms-md-3"},"Guía de Tallas")])],-1),qt={class:"d-flex"},Bt={class:"btn btn-warning px-3 py-2 rounded-0 ms-3",type:"submit"},Ft={key:0},Nt={key:1},Ot={class:"modal fade",id:"modalDeMedidas",tabindex:"-1","aria-labelledby":"modalDeMedidasLabel","aria-hidden":"true"},Ut={class:"modal-dialog"},Gt={class:"modal-content rounded-0"},Ht={class:"modal-body"},Yt={class:"modal-header"},Zt={class:"d-flex align-items-center mx-auto"},Jt={class:"text-center"},jt={class:"fs-6 fw-light",style:{"text-transform":"uppercase"}},Kt=t("p",{class:"fw-light"},"Medidas referenciales en cm",-1),Qt=t("button",{class:"btn-close position-absolute",type:"button","data-bs-dismiss":"modal","aria-label":"Close",style:{right:"3rem"}},null,-1),Wt=lt('<table class="table table-hover"><thead><tr><th class="text-center">Talle</th><th>XS</th><th>S</th><th>M</th><th>L</th><th>XL</th><th>XXL</th><th>XXXL</th></tr></thead><tbody><tr><td class="text-center">Ancho de pecho</td><td>52</td><td>54</td><td>56</td><td>58</td><td>62</td><td>64</td><td>66</td></tr><tr><td class="text-center">Ancho cadera</td><td>52</td><td>54</td><td>56</td><td>58</td><td>62</td><td>64</td><td>66</td></tr><tr><td class="text-center">Largo total</td><td>52</td><td>54</td><td>56</td><td>58</td><td>62</td><td>64</td><td>66</td></tr></tbody></table>',1),te=t("img",{src:mt,class:"w-100 mt-5 mb-xl-6 mb-3",alt:""},null,-1),ee={class:"container col-xl-9 mx-xl-auto"},se=["href"],oe=["src"],ae={class:"card-body pt-2 ps-2 text-start"},le={class:"mt-lg-1 card-title fs-xl-22 fs-20 fw-bold",style:{"text-transform":"uppercase"}},pe={__name:"details",setup(de){rt("required",ut);const{car:ne,getCar:ie,addToCar:$,isLoading:q}=nt(),_=h(0),C=h([]),z=et(),B={product_id:"required",total_product:"required",size_id:"required",color_id:"required"},{validate:F,errors:D}=ct({validationSchema:B}),{value:N}=k("product_id",null,{initialValue:parseInt(z.params.id)}),{value:O}=k("total_product",null,{initialValue:1}),{value:U}=k("color_id",null,{initialValue:"",label:"color"}),{value:G}=k("size_id",null,{initialValue:"",label:"size"}),f=st({product_id:N,total_product:O,color_id:U,size_id:G});function H(){F().then(s=>{s.valid&&$(f)})}const Y={snapAlign:"center",wrapAround:!0,breakpoints:{0:{itemsToShow:3},768:{itemsToShow:5}}},Z={itemsToShow:1,snapAlign:"center",wrapAround:!1},J={wrapAround:!0,snapAlign:"center",breakpoints:{0:{itemsToShow:3},768:{itemsToShow:4}}},j=s=>{f.total_product=s};function K(s){_.value=s}function Q(s){return a=>{a&&(C.value[s]=a)}}function W(s){const a=C.value[_.value];if(!a)return;const m=a.getBoundingClientRect(),b=s.clientX-m.left,x=s.clientY-m.top,y=b/m.width*100,w=x/m.height*100;a.style.transformOrigin=`${y}% ${w}%`,a.style.transform="scale(3)"}function tt(){const s=C.value[_.value];s&&(s.style.transform="scale(1)",s.style.transformOrigin="center center")}const n=h({}),P=h({}),V=h({});return h({}),h({}),ot(()=>{g.get("/api/get-product/"+z.params.id).then(({data:s})=>{n.value=s}),g.get("/api/get-products-interest/"+z.params.id).then(({data:s})=>{P.value=s.data}),g.get("/api/category-list").then(({data:s})=>{V.value=s.data}),g.get("/api/color-list").then(({data:s})=>{V.value=s.data}),g.get("/api/size-list").then(({data:s})=>{V.value=s.data})}),(s,a)=>{var m,b,x,y,w,R;return o(),l(c,null,[t("section",ht,[t("div",pt,[t("div",ft,[t("div",vt,[S(i(M),T({id:"gallery"},Z,{modelValue:_.value,"onUpdate:modelValue":a[0]||(a[0]=e=>_.value=e)}),{default:v(()=>{var e;return[(o(!0),l(c,null,p((e=n.value)==null?void 0:e.media,(d,r)=>(o(),A(i(I),{class:"carousel__item zoom-container",key:d,onMousemove:W,onMouseleave:tt},{default:v(()=>[t("img",{src:(d==null?void 0:d.original_url)??"",class:"img-width-100 rounded-3 zoom-image",ref_for:!0,ref:Q(r)},null,8,gt)]),_:2},1024))),128))]}),_:1},16,["modelValue"]),S(i(M),T({id:"thumbnails"},Y,{modelValue:_.value,"onUpdate:modelValue":a[1]||(a[1]=e=>_.value=e),ref:"carousel",class:"thumbnail mt-xl-3"}),{default:v(()=>{var e;return[(o(!0),l(c,null,p((e=n.value)==null?void 0:e.media,(d,r)=>(o(),A(i(I),{key:d},{default:v(()=>[t("img",{src:d.original_url??"",class:"w-xl-70 w-50 rounded-2",onClick:re=>K(r)},null,8,bt)]),_:2},1024))),128))]}),_:1},16,["modelValue"])]),t("form",{onSubmit:at(H,["prevent"]),class:"col-lg-6 ps-lg-5"},[t("div",xt,[(o(!0),l(c,null,p((m=n.value)==null?void 0:m.categories,e=>(o(),l("span",yt,[L(u(e.name)+" ",1),wt]))),256)),t("h1",St,u((b=n.value)==null?void 0:b.title),1)]),t("div",kt,[Ct,t("h4",{class:"mt-2 pt-3 fs-xl-18 fs-20",innerHTML:(x=n.value)==null?void 0:x.content},null,8,zt)]),Vt,t("div",Tt,[(o(!0),l(c,null,p((y=n.value)==null?void 0:y.colors,(e,d)=>(o(),l("div",At,[E(t("input",{value:e.id,class:"btn-check",id:`color${e.id}`,type:"radio",name:"color",autocomplete:"off","onUpdate:modelValue":a[2]||(a[2]=r=>f.color_id=r)},null,8,It),[[X,f.color_id]]),t("label",{class:"p-3 btn me-2",style:dt(`background-color: ${e.code};`),for:`color${e.id}`},null,12,Mt)]))),256))]),t("small",Lt,u(i(D).color_id),1),t("div",Dt,[(o(!0),l(c,null,p((w=n.value)==null?void 0:w.sizes,e=>(o(),l("div",Pt,[E(t("input",{value:e.id,class:"btn-check",id:`size${e.name}`,type:"radio",name:"size",autocomplete:"off","onUpdate:modelValue":a[3]||(a[3]=d=>f.size_id=d)},null,8,Rt),[[X,f.size_id]]),t("label",{class:"btn me-2 btn-outline-dark btn-sm",for:`size${e.name}`},u(e.name),9,Et)]))),256))]),t("small",Xt,u(i(D).size_id),1),$t,t("div",qt,[S(it,{"onUpdate:count":j,count:1}),t("button",Bt,[i(q)?(o(),l("span",Ft,"Processing...")):(o(),l("span",Nt,"AGREGAR AL CARRITO"))])])],32)])])]),t("div",Ot,[t("div",Ut,[t("div",Gt,[t("div",Ht,[t("div",Yt,[t("div",Zt,[t("div",Jt,[t("div",jt,u((R=n.value)==null?void 0:R.title),1),Kt]),Qt])]),Wt])])])]),te,t("section",null,[t("div",ee,[S(i(M),T({id:"thumbnails"},J,{ref:"carousel",class:"thumbnail mt-xl-3"}),{default:v(()=>[(o(!0),l(c,null,p(P.value,(e,d)=>(o(),A(i(I),{key:e,class:"m-4"},{default:v(()=>[t("a",{href:"/products/"+e.id,class:"card bg-transparent border-0 text-style-none"},[t("img",{class:"rounded-2",src:e.original_image??"",alt:"..."},null,8,oe),t("div",ae,[(o(!0),l(c,null,p(e.categories,r=>(o(),l("small",{class:"fs-xl-14",key:r.id},u(r.name),1))),128)),t("h5",le,u(e.title),1)])],8,se)]),_:2},1024))),128))]),_:1},16)])])],64)}}};export{pe as default};
