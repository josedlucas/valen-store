import{k as S,O as G,p as C,G as D,B as X,r as q,o as a,f as i,b as r,q as B,t as c,h as n,j as l,F as d,A as g,a as M,w as h,i as N,x as V,S as j}from"./app-c50b570c.js";import{u as O}from"./categorygroupers-60da97c2.js";import{u as P}from"./categories-fa75cdc4.js";const U={id:"section3Product"},A={class:"container col-md-9 col-10 mx-auto"},F={class:"mt-5"},T={class:"text-warning fs-7 fw-light d-flex align-items-center"},$=V('<svg fill="#b0b0b0" height="20px" width="20px" version="1.1" id="Layer_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 330 330" xml:space="preserve" stroke="#b0b0b0"><g id="SVGRepo_bgCarrier" stroke-width="0"></g><g id="SVGRepo_tracerCarrier" stroke-linecap="round" stroke-linejoin="round"></g><g id="SVGRepo_iconCarrier"><g id="XMLID_6_"><g id="XMLID_11_"><path d="M240,121.076H30V275c0,8.284,6.716,15,15,15h60h37.596c19.246,24.348,49.031,40,82.404,40c57.897,0,105-47.103,105-105 C330,172.195,290.816,128.377,240,121.076z M225,300c-41.355,0-75-33.645-75-75s33.645-75,75-75s75,33.645,75,75 S266.355,300,225,300z"></path></g> <g id="XMLID_18_"><path d="M240,90h15c8.284,0,15-6.716,15-15s-6.716-15-15-15h-30h-15V15c0-8.284-6.716-15-15-15H75c-8.284,0-15,6.716-15,15v45H45 H15C6.716,60,0,66.716,0,75s6.716,15,15,15h15H240z M90,30h90v30h-15h-60H90V30z"></path></g> <g id="XMLID_23_"><path d="M256.819,193.181c-5.857-5.858-15.355-5.858-21.213,0L225,203.787l-10.606-10.606c-5.857-5.858-15.355-5.858-21.213,0 c-5.858,5.858-5.858,15.355,0,21.213L203.787,225l-10.606,10.606c-5.858,5.858-5.858,15.355,0,21.213 c2.929,2.929,6.768,4.394,10.606,4.394c3.839,0,7.678-1.465,10.607-4.394L225,246.213l10.606,10.606 c2.929,2.929,6.768,4.394,10.607,4.394c3.839,0,7.678-1.465,10.606-4.394c5.858-5.858,5.858-15.355,0-21.213L246.213,225 l10.606-10.606C262.678,208.535,262.678,199.039,256.819,193.181z"></path></g></g></g></svg>',1),E=[$],J=V('<svg fill="#b0b0b0" height="20px" width="20px" version="1.1" id="Layer_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 330 330" xml:space="preserve" stroke="#b0b0b0"><g id="SVGRepo_bgCarrier" stroke-width="0"></g><g id="SVGRepo_tracerCarrier" stroke-linecap="round" stroke-linejoin="round"></g><g id="SVGRepo_iconCarrier"><g id="XMLID_6_"><g id="XMLID_11_"><path d="M240,121.076H30V275c0,8.284,6.716,15,15,15h60h37.596c19.246,24.348,49.031,40,82.404,40c57.897,0,105-47.103,105-105 C330,172.195,290.816,128.377,240,121.076z M225,300c-41.355,0-75-33.645-75-75s33.645-75,75-75s75,33.645,75,75 S266.355,300,225,300z"></path></g> <g id="XMLID_18_"><path d="M240,90h15c8.284,0,15-6.716,15-15s-6.716-15-15-15h-30h-15V15c0-8.284-6.716-15-15-15H75c-8.284,0-15,6.716-15,15v45H45 H15C6.716,60,0,66.716,0,75s6.716,15,15,15h15H240z M90,30h90v30h-15h-60H90V30z"></path></g> <g id="XMLID_23_"><path d="M256.819,193.181c-5.857-5.858-15.355-5.858-21.213,0L225,203.787l-10.606-10.606c-5.857-5.858-15.355-5.858-21.213,0 c-5.858,5.858-5.858,15.355,0,21.213L203.787,225l-10.606,10.606c-5.858,5.858-5.858,15.355,0,21.213 c2.929,2.929,6.768,4.394,10.606,4.394c3.839,0,7.678-1.465,10.607-4.394L225,246.213l10.606,10.606 c2.929,2.929,6.768,4.394,10.607,4.394c3.839,0,7.678-1.465,10.606-4.394c5.858-5.858,5.858-15.355,0-21.213L246.213,225 l10.606-10.606C262.678,208.535,262.678,199.039,256.819,193.181z"></path></g></g></g></svg>',1),K=[J],W={class:"fs-xl-16"},Y={class:"fs-xl-16"},Z={class:"row py-lg-5 py-5 py-3"},Q=["src"],ee={class:"card-body pt-md-2 pt-0 ps-2"},te={class:"mt-lg-1 card-title fs-xl-22 fs-14 fw-bold",style:{"text-transform":"uppercase"}},se={key:0,class:"col-lg-12 col-sm-12 mb-4"},ae=r("h3",null,"No hay productos",-1),re=[ae],le={__name:"index",setup(oe){const{categorygrouperList:m,getCategoryGrouperList:z}=O(),{categoryList:v,getCategoryList:y}=P(),u=S(),H=G(),_=C(),t=C({}),R=s=>{var o;return((o=s.resized_image)==null?void 0:o.length)>0?new URL(s.resized_image,import.meta.url).href:new URL(s.original_image,import.meta.url).href},x=s=>{const o={...u.query};delete o[s],H.push({query:o})},I=async()=>{const{data:s}=await j.get("/api/get-products",{params:t.value});_.value=s};return D(()=>u.query,async s=>{t.value.grouper=s.grouper?parseInt(s.grouper):null,t.value.category=s.category?parseInt(s.category):null,await y(t.value),await I()},{immediate:!0}),X(async()=>{await y(),await z()}),(s,o)=>{var w,k,f,L;const p=q("RouterLink");return a(),i("section",U,[r("div",A,[r("div",F,[r("h4",T,[B(c(((w=n(v).find(e=>e.id===t.value.category))==null?void 0:w.name)??((k=n(m).find(e=>e.id===t.value.grouper))==null?void 0:k.name)??"CATÁLOGO")+" ",1),t.value.grouper&&!t.value.category?(a(),i("div",{key:0,class:"ms-3 clean",onClick:o[0]||(o[0]=e=>x("grouper"))},E)):l("",!0),t.value.category?(a(),i("div",{key:1,class:"ms-3 clean",onClick:o[1]||(o[1]=e=>x("category"))},K)):l("",!0)]),r("div",null,[!t.value.grouper&&!t.value.category?(a(!0),i(d,{key:0},g(n(m),e=>(a(),M(p,{key:e.id,to:{query:{grouper:e.id}},class:"text-dark me-md-4"},{default:h(()=>[r("span",W,c(e.name),1)]),_:2},1032,["to"]))),128)):l("",!0),!t.value.category&&t.value.grouper?(a(!0),i(d,{key:1},g(n(v),e=>(a(),M(p,{key:e.id,to:{query:{...n(u).query,category:e.id}},class:"text-dark me-md-4"},{default:h(()=>[r("span",Y,c(e.name),1)]),_:2},1032,["to"]))),128)):l("",!0)])]),r("div",Z,[(a(!0),i(d,null,g((f=_.value)==null?void 0:f.data,e=>(a(),i("div",{class:"col-lg-3 col-sm-6 col-6 mb-4",key:e.id},[N(p,{to:{name:"public-products.details",params:{id:e.id}},class:"card bg-transparent border-0 text-style-none"},{default:h(()=>[r("img",{class:"rounded-2",src:R(e),alt:"..."},null,8,Q),r("div",ee,[(a(!0),i(d,null,g(e.categories,b=>(a(),i("small",{class:"fs-xl-14 fs-12",key:b.id},c(b.name),1))),128)),r("h5",te,c(e.title),1)])]),_:2},1032,["to"])]))),128)),((L=_.value)==null?void 0:L.data.length)===0?(a(),i("div",se,re)):l("",!0)])])])}}};export{le as default};
