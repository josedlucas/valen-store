import{p as n,P as v,Q as y}from"./app-0cb33df6.js";function b(){const i=n({}),d=n({title:"",content:"",category_id:"",thumbnail:""}),u=v(),r=n({}),o=n(!1),a=y("$swal"),l=async(t=1,s="",e="",c="",p="",f="",h="created_at",m="desc")=>{axios.get("/api/products?page="+t+"&search_category="+s+"&search_id="+e+"&search_title="+c+"&search_content="+p+"&search_global="+f+"&order_column="+h+"&order_direction="+m).then(P=>{i.value=P.data})};return{products:i,product:d,getProducts:l,getProduct:async t=>{axios.get("/api/products/"+t).then(s=>{d.value=s.data.data})},storeProduct:async t=>{if(o.value)return;o.value=!0,r.value={};let s=new FormData;for(let e in t)t.hasOwnProperty(e)&&s.append(e,t[e]);axios.post("/api/products",s,{headers:{"content-type":"multipart/form-data"}}).then(e=>{u.push({name:"products.index"}),a({icon:"success",title:"Product saved successfully"})}).catch(e=>{var c;(c=e.response)!=null&&c.data&&(r.value=e.response.data.errors)}).finally(()=>o.value=!1)},updateProduct:async t=>{o.value||(o.value=!0,r.value={},axios.put("/api/products/"+t.id,t).then(s=>{u.push({name:"products.index"}),a({icon:"success",title:"Product updated successfully"})}).catch(s=>{var e;(e=s.response)!=null&&e.data&&(r.value=s.response.data.errors)}).finally(()=>o.value=!1))},deleteProduct:async t=>{a({title:"Are you sure?",text:"You won't be able to revert this action!",icon:"warning",showCancelButton:!0,confirmButtonText:"Yes, delete it!",confirmButtonColor:"#ef4444",timer:2e4,timerProgressBar:!0,reverseButtons:!0}).then(s=>{s.isConfirmed&&axios.delete("/api/products/"+t).then(e=>{l(),u.push({name:"products.index"}),a({icon:"success",title:"Product deleted successfully"})}).catch(e=>{a({icon:"error",title:"Something went wrong"})})})},validationErrors:r,isLoading:o}}export{b as u};
